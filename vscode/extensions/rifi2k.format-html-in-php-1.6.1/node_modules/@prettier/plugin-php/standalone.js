!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("prettier/standalone")):"function"==typeof define&&define.amd?define(["exports","prettier/standalone"],e):e(((t=t||self).prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.php={}),t.prettier)}(this,function(t,e){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,s=!1,r=void 0;try{for(var o,h=t[Symbol.iterator]();!(n=(o=h.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==h.return||h.return()}finally{if(s)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e;var r={isBuffer:function(){return!1}},o=r,h={consume_NUM:function(){var t=this.yytext[0],e="."===this.yytext[0];if("0"===t)if("x"===(t=this.input())||"X"===t){if(t=this.input(),this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if("b"===t||"B"===t){if("0"===(t=this.input())||"1"===t)return this.consume_BNUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;)if(t=this.input(),!this.is_NUM()){if("."!==t||e){if("e"===t||"E"===t){if("+"===(t=this.input())||"-"===t){if(t=this.input(),this.is_NUM())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?3:2);break}if(this.is_NUM())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?2:1);break}t&&this.unput(1);break}e=!0}return e?this.tok.T_DNUMBER:this.yytext.length<9?this.tok.T_LNUMBER:this.yytext.length<10||10==this.yytext.length&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var t;this.offset<this.size;)if("0"!==(t=this.input())&&"1"!==t){t&&this.unput(1);break}return this.tok.T_LNUMBER}},a={matchST_LOOKING_FOR_PROPERTY:function(){var t=this.input();if("-"===t){if(">"===(t=this.input()))return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),"["===(t=this.input())||"}"===t)return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var t=this.input();if(this.is_NUM())return this.consume_NUM(),this.tok.T_NUM_STRING;if("]"===t)return this.popState(),"]";if("$"===t){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||"\\"===t||"'"===t||"#"===t)return this.tok.T_ENCAPSED_AND_WHITESPACE;if("["===t||"{"===t||"}"===t||'"'===t||"`"===t||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}},l={matchST_IN_SCRIPTING:function(){var t=this.input();switch(t){case" ":case"\t":case"\n":case"\r":case"\r\n":return this.T_WHITESPACE();case"#":return this.T_COMMENT();case"/":return"/"===this._input[this.offset]?this.T_COMMENT():"*"===this._input[this.offset]?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var e=this._input[this.offset];return"\n"!==e&&"\r"!==e||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&">"===this._input[this.offset]?(this.input(),"\n"!==(t=this._input[this.offset])&&"\r"!==t||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if("."===t){if(t=this.input(),this.is_NUM())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var t=this.input();if(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}},c={is_NUM:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){var t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||95===t||t>47&&t<58||t>126},is_LABEL_START:function(){var t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||95===t||t>126},consume_LABEL:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){var t=this._input[this.offset-1];return-1!==";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(t)},is_WHITESPACE:function(){var t=this._input[this.offset-1];return" "===t||"\t"===t||"\n"===t||"\r"===t},is_TABSPACE:function(){var t=this._input[this.offset-1];return" "===t||"\t"===t},consume_TABSPACE:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103}},u=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!0,this.php7=!0,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};u.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this},u.prototype.input=function(){var t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,"\r"===t&&"\n"===this._input[this.offset]&&(this.yytext+="\n",this.offset++),"\n"===t||"\r"===t?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""},u.prototype.unput=function(t){if(1===t)this.offset--,"\n"===this._input[this.offset]&&"\r"===this._input[this.offset-1]&&(this.offset--,t++),"\r"===this._input[this.offset]||"\n"===this._input[this.offset]?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var e=0;e<this.yytext.length;e++){var i=this.yytext[e];"\r"===i?(i=this.yytext[++e],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,"\n"!==i&&("\r"===i?this.yylloc.last_line++:this.yylloc.last_column++)):"\n"===i?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},u.prototype.tryMatch=function(t){return t===this.ahead(t.length)},u.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()},u.prototype.ahead=function(t){var e=this._input.substring(this.offset,this.offset+t);return"\r"===e[e.length-1]&&"\n"===this._input[this.offset+t+1]&&(e+="\n"),e},u.prototype.consume=function(t){for(var e=0;e<t;e++){var i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,"\r"===i&&"\n"===this._input[this.offset]&&(this.yytext+="\n",this.offset++,e++),"\n"===i||"\r"===i?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},u.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column}}},u.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,this},u.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this},u.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t},u.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],"function"!=typeof this.stateCb)throw new Error('Undefined condition state "'+t+'"');return this},u.prototype.popState=function(){var t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],"function"!=typeof this.stateCb)throw new Error('Undefined condition state "'+this.curCondition+'"');return t},u.prototype.next=function(){var t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?("object"===i((t=this.tokens.shift())[1])?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&0===this.tokens.length&&(this.done=!0),this.debug){var e=t;e="number"==typeof e?this.engine.tokens.values[e]:'"'+e+'"';var n=new Error(e+"\tfrom "+this.yylloc.first_line+","+this.yylloc.first_column+"\t - to "+this.yylloc.last_line+","+this.yylloc.last_column+'\t"'+this.yytext+'"');console.error(n.stack)}return t},[{T_COMMENT:function(){for(;this.offset<this.size;){var t=this.input();if("\n"===t||"\r"===t)return this.tok.T_COMMENT;if("?"===t&&!this.aspTagMode&&">"===this._input[this.offset])return this.unput(1),this.tok.T_COMMENT;if("%"===t&&this.aspTagMode&&">"===this._input[this.offset])return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var t=this.input(),e=this.tok.T_COMMENT;if("*"===t){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),"/"===t)return e;this.unput(1)}for(;this.offset<this.size;)if("*"===(t=this.input())&&"/"===this._input[this.offset]){this.input();break}return e}},{nextINITIAL:function(){return this.conditionStack.length>1&&"INITIAL"===this.conditionStack[this.conditionStack.length-1]?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var t=this.input();if("<"==t)if("?"==(t=this.ahead(1))){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&(" "===(t=this._input[this.offset+4])||"\t"===t||"\n"===t||"\r"===t)){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&"%"==t){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}},h,a,l,{T_CONSTANT_ENCAPSED_STRING:function(){for(var t;this.offset<this.size;)if("\\"==(t=this.input()))this.input();else if("'"==t)break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var t=this.offset;if("<"===this._input[this.offset-1]&&"<"===this._input[this.offset]&&"<"===this._input[this.offset+1]){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var e=this._input[this.offset-1];if("'"===e||'"'===e?this.offset++:e=null,this.is_LABEL_START()){for(var i=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var n=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,"\r"===this._input[this.offset-1]||"\n"===this._input[this.offset-1]))return this.heredoc_label=n,i=this.offset-t,this.offset=t,this.consume(i),"'"===e?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){for(var t;this.offset<this.size;)if("\\"==(t=this.input()))this.input();else{if('"'==t)break;if("$"==t){if("{"==(t=this.input())||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if("{"==t){if("$"==(t=this.input())){this.unput(2);break}t&&this.unput(1)}}if('"'==t)return this.tok.T_CONSTANT_ENCAPSED_STRING;var e=1;return"b"!==this.yytext[0]&&"B"!==this.yytext[0]||(e=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-e),this.unput(this.yytext.length-e),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(){if(this._input.substring(this.offset-1,this.offset-1+this.heredoc_label.length)===this.heredoc_label){var t=this._input[this.offset-1+this.heredoc_label.length];if("\n"===t||"\r"===t||";"===t)return!0}return!1},matchST_NOWDOC:function(){if(this.isDOC_MATCH())return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var t=this._input[this.offset-1];this.offset<this.size;)if("\n"===t||"\r"===t){if(t=this.input(),this.isDOC_MATCH())return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var t=this.input();if(this.isDOC_MATCH())return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if("\\"===t&&"\n"!==(t=this.input())&&"\r"!==t&&(t=this.input()),"\n"===t||"\r"===t){if(t=this.input(),this.isDOC_MATCH())return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if("{"===t){if("$"===(t=this.input()))return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var t=this.input();if("["==t)return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if("-"===t){if(">"===this.input())return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var t=this.input();if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if("{"===t){if("$"===this._input[this.offset])return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if("`"===t)return this.popState(),"`";for(;this.offset<this.size;){if("\\"===t)this.input();else{if("`"===t){this.unput(1),this.popState(),this.appendToken("`",1);break}if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}if("{"===t){if("$"===(t=this.input()))return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var t=this.input();if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if("{"===t){if("$"===this._input[this.offset])return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if('"'===t)return this.popState(),'"';for(;this.offset<this.size;){if("\\"===t)this.input();else{if('"'===t){this.unput(1),this.popState(),this.appendToken('"',1);break}if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if("{"===t){if("$"===(t=this.input()))return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}},{T_STRING:function(){var t=this.yytext.toLowerCase(),e=this.keywords[t];if("number"!=typeof e)if("yield"===t)this.php7&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,"b"===t||"B"===t){var i=this.input(1);if('"'===i)return this.ST_DOUBLE_QUOTES();if("'"===i)return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}return e},consume_TOKEN:function(){var t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var t=this._input[this.offset];return">"===t?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):"-"===t?(this.input(),this.tok.T_DEC):"="===t?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return":"===this._input[this.offset]?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var e=this.yytext.length;this.consume_LABEL();var i=this.yytext.substring(e-1).toLowerCase(),n=this.castKeywords[i];if("number"==typeof n&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),")"===this._input[this.offset-1]))return n}return this.unput(this.offset-t),"("},"=":function(){var t=this._input[this.offset];return">"===t?(this.input(),this.tok.T_DOUBLE_ARROW):"="===t?"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var t=this._input[this.offset];return"+"===t?(this.input(),this.tok.T_INC):"="===t?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return"="===this._input[this.offset]?"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.php7&&"?"===this._input[this.offset]?(this.input(),this.tok.T_COALESCE):"?"},"<":function(){var t=this._input[this.offset];return"<"===t?"="===(t=this._input[this.offset+1])?(this.consume(2),this.tok.T_SL_EQUAL):"<"===t&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):"="===t?(this.input(),this.php7&&">"===this._input[this.offset]?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):">"===t?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):">"===t?"="===(t=this._input[this.offset+1])?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_MUL_EQUAL):"*"===t?(this.input(),"="===this._input[this.offset]?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_CONCAT_EQUAL):"."===t&&"."===this._input[this.offset+1]?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_AND_EQUAL):"&"===t?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_OR_EQUAL):"|"===t?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_XOR_EQUAL):"^"}}},c].forEach(function(t){for(var e in t)u.prototype[e]=t[e]});var _=u,p={read_array:function(){var t=null,e=!1,i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");var n=[];return this.next().token!==t&&(n=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,n)},read_array_pair_list:function(t){var e=this;return this.read_list(function(){return e.read_array_pair(t)},",",!0)},read_array_pair:function(t){if(","===this.token||!t&&")"===this.token||t&&"]"===this.token)return null;if("&"===this.token)return this.next().read_variable(!0,!1,!0);var e=this.node("entry"),i=this.read_expr();return this.token===this.tok.T_DOUBLE_ARROW?"&"===this.next().token?e(i,this.next().read_variable(!0,!1,!0)):e(i,this.read_expr()):i},read_dim_offset:function(){return"]"!=this.token&&this.read_expr()}},f={"\\r":"\r","\\n":"\n","\\t":"\t","\\v":String.fromCharCode(11),"\\e":String.fromCharCode(27),"\\f":String.fromCharCode(12),"\\\\":"\\","\\$":"$",'\\"':'"',"\\'":"'"},d={resolve_special_chars:function(t,e){return e?t.replace(/\\[rntvef"'\\$]/g,function(t){return f[t]}):t.replace(/\\['\\]/g,function(t){return f[t]})},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var t,e;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:t=this.node("string");var i=this.text(),n=0;"b"!==i[0]&&"B"!==i[0]||(n=1);var s='"'===i[n];return this.next(),t=t(s,this.resolve_special_chars(i.substring(n+1,i.length-1),s),1===n,i),this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(t):t;case this.tok.T_START_HEREDOC:if("ST_NOWDOC"===this.lexer.curCondition){var r=this.lexer.yylloc.first_offset;e=this.node("nowdoc");var o=(t=this.next().text())[t.length-1];"\n"===o?t="\r"===t[t.length-2]?t.substring(0,t.length-2):t.substring(0,t.length-1):"\r"===o&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next();var h=this.lexer._input.substring(r,this.lexer.yylloc.last_offset);return this.expect(this.tok.T_END_HEREDOC)&&this.next(),e=e(t,h,this.lexer.heredoc_label,'"'===h[3]||"'"===h[3])}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var a=this.node("number");return t=this.text(),this.next(),a(t,null);case this.tok.T_ARRAY:case"[":return this.read_array();default:var l=this.error("SCALAR");return this.next(),l}},read_dereferencable:function(t){var e,i,n=this.node("offsetlookup");return"["===this.token?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=n(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(e=n(t,i=this.read_encapsed_string_item(!1))),e},read_encapsed_string_item:function(t){var e,i,n,s=this.node("encapsedpart"),r=!1,o=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var h=this.text();this.next(),o=o("string",!1,this.resolve_special_chars(h,t),!1,h)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(n=null,this.next().token===this.tok.T_STRING_VARNAME){n=this.node("variable");var a=this.text();this.next(),"["===this.token?(n=n(a,!1,!1),i=this.node("offsetlookup"),e=this.next().read_expr(),this.expect("]")&&this.next(),n=i(n,e)):n=a}else n=this.read_expr();this.expect("}")&&this.next(),o=o("variable",n,!1,!0)}else if(this.token===this.tok.T_CURLY_OPEN)r=!0,o.destroy(),o=this.next().read_variable(!1,!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(o.destroy(),o=this.read_simple_variable(!1),"["===this.token&&(i=this.node("offsetlookup"),e=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),o=i(o,e)),this.token===this.tok.T_OBJECT_OPERATOR){i=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var l=this.node("identifier");n=this.text(),this.next(),o=i(o,l(n))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var c=this.text();this.next(),o.destroy(),o=o("string",!1,c,!1,c)}return s(o,r)},read_encapsed_string:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.node("encapsed");this.next();var n=this.lexer.yylloc.prev_offset-(e?1:0),s=[],r=null;for(r="`"===t?this.ast.encapsed.TYPE_SHELL:'"'===t?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)s.push(this.read_encapsed_string_item(!0));return this.expect(t)&&this.next(),i=i(s,this.lexer._input.substring(n-1,this.lexer.yylloc.first_offset),r),t===this.tok.T_END_HEREDOC&&(i.label=this.lexer.heredoc_label),i},get_magic_constant:function(){var t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}},T={read_top_statements:function(){for(var t=[];this.token!==this.EOF&&"}"!==this.token;){var e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){switch(this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class();case this.tok.T_INTERFACE:return this.read_interface();case this.tok.T_TRAIT:return this.read_trait();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var t=this.node("constantstatement"),e=this.next().read_const_list();return this.expectEndOfStatement(),t(null,e);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var i=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,i(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var t=[];this.token!=this.EOF&&"}"!==this.token;){var e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var t=this.node("constant"),e=this.text();return this.next().expect("=")?t(e,this.next().read_expr()):t(e,null)},",",!1)},read_declare_list:function(){for(var t=[];this.token!=this.EOF&&")"!==this.token;){this.expect(this.tok.T_STRING);var e=this.node("declaredirective"),i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=null;if(this.expect("=")&&(s=this.next().read_expr()),t.push(e(i,s)),","!==this.token)break;this.next()}return t},read_inner_statement:function(){switch(this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class();case this.tok.T_INTERFACE:return this.read_interface();case this.tok.T_TRAIT:return this.read_trait();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var t=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),t=t(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),t;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var t=this.node("return"),e=null;return this.next().is("EOS")||(e=this.read_expr()),this.expectEndOfStatement(),t(e);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var i=this.node(this.token===this.tok.T_CONTINUE?"continue":"break"),n=null;return this.next(),";"!==this.token&&(n=this.read_expr()),this.expectEndOfStatement(),i(n);case this.tok.T_GLOBAL:var s=this.node("global"),r=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),s(r);case this.tok.T_STATIC:var o=[this.token,this.lexer.getState()],h=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(o);var a=this.next().read_expr();return this.expectEndOfStatement(a),h("expressionstatement",a)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var l=this.read_variable_declarations();return this.expectEndOfStatement(),h("static",l);case this.tok.T_ECHO:var c=this.node("echo"),u=this.text(),_="<?="===u||"<%="===u,p=this.next().read_list(this.read_expr,",");return this.expectEndOfStatement(),c(p,_);case this.tok.T_INLINE_HTML:var f=this.text(),d=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,T="\r"===d||"\n"===d;T&&"\n"===d&&this.lexer.yylloc.first_offset>1&&"\r"===this.lexer._input[this.lexer.yylloc.first_offset-2]&&(d="\r\n");var k=this.node("inline");return this.next(),k(f,T?d+f:f);case this.tok.T_UNSET:var E=this.node("unset");this.next().expect("(")&&this.next();var x=this.read_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),E(x);case this.tok.T_DECLARE:var m,y=this.node("declare"),A=[];this.next().expect("(")&&this.next();var v=this.read_declare_list();if(this.expect(")")&&this.next(),":"===this.token){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)A.push(this.read_top_statement());this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),m=this.ast.declare.MODE_SHORT}else if("{"===this.token){for(this.next();this.token!=this.EOF&&"}"!==this.token;)A.push(this.read_top_statement());this.expect("}")&&this.next(),m=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),m=this.ast.declare.MODE_NONE;return y(v,A,m);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var g=this.node("throw"),N=this.next().read_expr();return this.expectEndOfStatement(),g(N);case";":return this.next(),null;case this.tok.T_STRING:var C=this.node(),L=[this.token,this.lexer.getState()],S=this.text();if(":"===this.next().token)return this.next(),C("label",S);C.destroy(),this.lexer.tokens.push(L);var O=this.node("expressionstatement"),I=this.next().read_expr();return this.expectEndOfStatement(I),O(I);case this.tok.T_GOTO:var b=this.node("goto"),R=null;return this.next().expect(this.tok.T_STRING)&&(R=this.text(),this.next().expectEndOfStatement()),b(R);default:var w=this.node("expressionstatement"),D=this.read_expr();return this.expectEndOfStatement(D),w(D)}},read_code_block:function(t){var e=this.node("block");this.expect("{")&&this.next();var i=t?this.read_top_statements():this.read_inner_statements();return this.expect("}")&&this.next(),e(null,i)}},k={read_variable:function(t,e,i){var n;if(i||"&"!==this.token||(i=!0,this.next()),this.is([this.tok.T_VARIABLE,"$"]))n=this.read_reference_variable(e,i);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){n=this.node();var s=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&"("!=this.token&&-1===["parentreference","selfreference"].indexOf(s.kind)){var r=s.name.toLowerCase();n="true"===r?s.destroy(n("boolean",!0,s.name)):"false"===r?s.destroy(n("boolean",!1,s.name)):n("identifier",s)}else n.destroy(s),n=s}else if(this.token===this.tok.T_STATIC){n=this.node("staticreference");var o=this.text();this.next(),n=n(o)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(n=this.read_static_getter(n,e)),this.recursive_variable_chain_scan(n,t,e)},read_static_getter:function(t,e){var i,n,s=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?i=this.read_reference_variable(e,!1):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.php7&&this.is("IDENTIFIER")?(i=this.node("identifier"),n=this.text(),this.next(),i=i(n)):"{"===this.token?(i=this.node("literal"),n=this.next().read_expr(),this.expect("}")&&this.next(),i=i("literal",n,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),i=this.node("identifier"),n=this.text(),this.next(),i=i(n)),s(t,i)},read_what:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,i=null;switch(this.next().token){case this.tok.T_STRING:if(e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error(),this.token===this.tok.T_VARIABLE){var n=this.node("variable");i=this.text().substring(1),this.next(),(e=this.node("encapsed")([e,n(i,!1,!1)],null,"offset")).loc&&e.value[0].loc&&(e.loc.start=e.value[0].loc.start)}else if("{"===this.token){var s=this.next().read_expr();this.expect("}")&&this.next(),(e=this.node("encapsed")([e,s],null,"offset")).loc&&e.value[0].loc&&(e.loc.start=e.value[0].loc.start)}break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),"{"===this.token?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("literal","literal",i,null)):e=e("variable",i=this.read_expr(),!1,!1);break;case"{":e=this.node("literal"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("literal",i,null);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i)}return e},recursive_variable_chain_scan:function(t,e,i){var n,s;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_function_argument_list());break;case"[":n=this.node("offsetlookup"),this.next(),s=!1,i?(s=this.read_encaps_var_offset(),this.expect("]")&&this.next()):"]"!==this.token?(s=this.read_expr(),this.expect("]")&&this.next()):this.next(),t=n(t,s);break;case this.tok.T_DOUBLE_COLON:"staticlookup"===t.kind&&"identifier"===t.offset.kind&&this.error(),t=(n=this.node("staticlookup"))(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:t=(n=this.node("propertylookup"))(t,this.read_what());break;default:break t}return t},read_encaps_var_offset:function(){var t=this.node();if(this.token===this.tok.T_STRING){var e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){var i=this.text();this.next(),t=t("number",i,null)}else if(this.token===this.tok.T_VARIABLE){var n=this.text().substring(1);this.next(),t=t("variable",n,!1,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,this.tok.T_VARIABLE]);var s=this.text();this.next(),t=t("identifier",s)}return t},read_reference_variable:function(t,e){for(var i,n=this.read_simple_variable(e);this.token!=this.EOF;){var s=this.node();if("{"!=this.token||t){s.destroy();break}i=this.next().read_expr(),this.expect("}")&&this.next(),n=s("offsetlookup",n,i)}return n},read_simple_variable:function(t){var e,i=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)e=this.text().substring(1),this.next(),i=i(e,t,!1);else switch("$"===this.token&&this.next(),this.token){case"{":var n=this.next().read_expr();this.expect("}")&&this.next(),i=i(n,t,!0);break;case"$":i=i(this.read_simple_variable(!1),t,!1);break;case this.tok.T_VARIABLE:e=this.text().substring(1);var s=this.node("variable");this.next(),i=i(s(e,!1,!1),t,!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),e=this.text(),this.next(),i=i(e,t,!1)}return i}};function E(t){return"."!=t&&","!=t&&!isNaN(parseFloat(t))&&isFinite(t)}var x=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.php7=!0,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var i=function(t){return[t,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FUNC_C,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i))}};x.prototype.getTokenName=function(t){return E(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"},x.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var i=this.node("program"),n=[];for(this.next();this.token!=this.EOF;){var s=this.read_start();null!=s&&(Array.isArray(s)?n=n.concat(s):n.push(s))}this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var r=i(n,this._errors,this._docs,this._tokens);if(this.debug){var o=this.ast.checkNodes();if(o.length>0)throw o.forEach(function(t){console.log("Node at line "+t.position.line+", column "+t.position.column),console.log(t.stack.join("\n"))}),new Error("Some nodes are not closed")}return r},x.prototype.raiseError=function(t,e,i,n){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var s=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw s.lineNumber=this.lexer.yylloc.first_line,s.fileName=this.filename,s.columnNumber=this.lexer.yylloc.first_column,s}var r=this.ast.prepare("error",null,this)(t,n,this.lexer.yylloc.first_line,i);return this._errors.push(r),r},x.prototype.error=function(t){var e="Parse Error : syntax error",i=this.getTokenName(this.token),n="";if(this.token!==this.EOF){if(E(this.token)){var s=this.text();s.length>10&&(s=s.substring(0,7)+"..."),i="'"+s+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((E(t)||1===t.length)&&(n=", expecting "+this.getTokenName(t)),e+=n),this.raiseError(e,n,t,i)},x.prototype.node=function(t){if(this.extractDoc){var e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(e)));var i=this.ast.prepare(t,e,this);return i.postBuild=function(t){if(this._docIndex<this._docs.length)if(this._lastNode){for(var e=this.prev[2],i=this._docIndex;i<this._docs.length&&!(this._docs[i].offset>e);i++);i>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,i)),this._docIndex=i)}else this.token===this.EOF&&(t.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=t}.bind(this),i}return this.ast.prepare(t,null,this)},x.prototype.expectEndOfStatement=function(t){if(";"===this.token)t&&";"===this.lexer.yytext&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var m=["parser.next","parser.node","parser.showlog"];x.prototype.showlog=function(){for(var t,e=(new Error).stack.split("\n"),i=2;i<e.length;i++){t=e[i].trim();for(var n=!1,s=0;s<m.length;s++)if(t.substring(3,3+m[s].length)===m[s]){n=!0;break}if(!n)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @--\x3e"+t),this},x.prototype.expect=function(t){if(Array.isArray(t)){if(-1===t.indexOf(this.token))return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0},x.prototype.text=function(){return this.lexer.yytext},x.prototype.next=function(){if(";"===this.token&&";"!==this.lexer.yytext||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},x.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var t=this.lexer.yytext;if(t=this.lexer.engine.tokens.values.hasOwnProperty(this.token)?[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},x.prototype.is=function(t){return Array.isArray(t)?-1!==t.indexOf(this.token):this.entries[t].has(this.token)},[p,{read_class:function(){var t=this.node("class"),e=this.read_class_scope();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=null;this.token==this.tok.T_EXTENDS&&(s=this.next().read_namespace_name());var r=null;return this.token==this.tok.T_IMPLEMENTS&&(r=this.next().read_name_list()),this.expect("{"),t(i,s,r,this.next().read_class_body(),e)},read_class_scope:function(){var t=this.token;return t==this.tok.T_FINAL?(this.next(),[0,0,2]):t==this.tok.T_ABSTRACT?(this.next(),[0,0,1]):[0,0,0]},read_class_body:function(){for(var t=[];this.token!==this.EOF&&"}"!==this.token;)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE){var e=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),e[0]=null,e[1]=0),this.token===this.tok.T_VARIABLE){var i=this.read_variable_list(e);this.expect(";"),this.next(),t=t.concat(i)}else this.token===this.tok.T_FUNCTION?t.push(this.read_function(!1,e)):(this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next());else{var n=this.read_constant_list(e);this.expect(";")&&this.next(),t=t.concat(n)}}else t=t.concat(this.read_trait_use_statement());else t.push(this.read_doc_comment());else t.push(this.read_comment());return this.expect("}"),this.next(),t},read_variable_list:function(t){return this.read_list(function(){var e=this.node("property");this.expect(this.tok.T_VARIABLE);var i=this.text().substring(1);return this.next(),";"===this.token||","===this.token?e(i,null,t):"="===this.token?e(i,this.next().read_expr(),t):(this.expect([",",";","="]),e(i,null,t))},",")},read_constant_list:function(t){this.expect(this.tok.T_CONST)&&this.next();var e=this.node("classconstant"),i=this.read_list(function(){var t=this.node("constant"),e=null,i=null;return this.token===this.tok.T_STRING||this.php7&&this.is("IDENTIFIER")?(e=this.text(),this.next()):this.expect("IDENTIFIER"),this.expect("=")&&(i=this.next().read_expr()),t(e,i)},",");return e(null,i,t)},read_member_flags:function(t){var e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var i=0,n=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,n=0;break;case this.tok.T_PROTECTED:i=0,n=1;break;case this.tok.T_PRIVATE:i=0,n=2;break;case this.tok.T_STATIC:i=1,n=1;break;case this.tok.T_ABSTRACT:i=2,n=1;break;case this.tok.T_FINAL:i=2,n=2}t&&(0==i&&2==n?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),n=-1):2==i&&1==n&&(this.error(),n=-1)),-1!==e[i]?this.error():-1!==n&&(e[i]=n)}while(this.next().is("T_MEMBER_FLAGS"))}return-1==e[1]&&(e[1]=0),-1==e[2]&&(e[2]=0),e},read_interface:function(){var t=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var e=this.node("identifier"),i=this.text();this.next(),e=e(i);var n=null;return this.token===this.tok.T_EXTENDS&&(n=this.next().read_name_list()),this.expect("{"),t(e,n,this.next().read_interface_body())},read_interface_body:function(){for(var t=[];this.token!==this.EOF&&"}"!==this.token;)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var e=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var i=this.read_constant_list(e);this.expect(";")&&this.next(),t=t.concat(i)}else if(this.token===this.tok.T_FUNCTION){var n=this.read_function_declaration(2,e);n.parseFlags(e),t.push(n),this.expect(";")&&this.next()}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else t.push(this.read_doc_comment());else t.push(this.read_comment());return this.expect("}")&&this.next(),t},read_trait:function(){var t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("{"),t(e,this.next().read_class_body())},read_trait_use_statement:function(){var t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var e=[this.read_namespace_name()],i=null;","===this.token;)e.push(this.next().read_namespace_name());if("{"===this.token){for(i=[];this.next().token!==this.EOF&&"}"!==this.token;)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){var t,e=this.node(),i=null;if(this.is("IDENTIFIER")?(t=this.text(),this.next()):(t=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON?(this.next(),this.token===this.tok.T_STRING||this.php7&&this.is("IDENTIFIER")?(i=t,t=this.text(),this.next()):this.expect(this.tok.T_STRING)):t=t.name),this.token===this.tok.T_INSTEADOF)return e("traitprecedence",i,t,this.next().read_name_list());if(this.token===this.tok.T_AS){var n=null,s=null;return this.next().is("T_MEMBER_FLAGS")&&(n=this.read_member_flags()),this.token===this.tok.T_STRING||this.php7&&this.is("IDENTIFIER")?(s=this.text(),this.next()):!1===n&&this.expect(this.tok.T_STRING),e("traitalias",i,t,s,n)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),e("traitalias",i,t,null,null)}},{read_comment:function(){var t=this.text(),e=this.ast.prepare("/*"===t.substring(0,2)?"commentblock":"commentline",null,this),i=this.lexer.yylloc.first_offset,n=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(e=e(t)).offset=i,this.prev=n,e},read_doc_comment:function(){var t=this.ast.prepare("commentblock",null,this),e=this.lexer.yylloc.first_offset,i=this.text(),n=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(t=t(i)).offset=e,this.prev=n,t}},{read_expr:function(t){var e=this.node();if(t||(t=this.read_expr_item()),"|"===this.token)return e("bin","|",t,this.next().read_expr());if("&"===this.token)return e("bin","&",t,this.next().read_expr());if("^"===this.token)return e("bin","^",t,this.next().read_expr());if("."===this.token)return e("bin",".",t,this.next().read_expr());if("+"===this.token)return e("bin","+",t,this.next().read_expr());if("-"===this.token)return e("bin","-",t,this.next().read_expr());if("*"===this.token)return e("bin","*",t,this.next().read_expr());if("/"===this.token)return e("bin","/",t,this.next().read_expr());if("%"===this.token)return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if("<"===this.token)return e("bin","<",t,this.next().read_expr());if(">"===this.token)return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),";"!==this.token&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if("?"===this.token){var i=null;return":"!==this.next().token&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}return e.destroy(t),t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_expr_item:function(){var t,e;if("@"===this.token)return this.node("silent")(this.next().read_expr());if("+"===this.token)return this.node("unary")("+",this.next().read_expr());if("-"===this.token)return this.node("unary")("-",this.next().read_expr());if("!"===this.token)return this.node("unary")("!",this.next().read_expr());if("~"===this.token)return this.node("unary")("~",this.next().read_expr());if("("===this.token)return(e=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if("`"===this.token)return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var i=null,n=this.innerList;t=this.node("list"),n||(i=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var s=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var r=!1,o=0;o<s.length;o++)if(null!==s[o]){r=!0;break}return r||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),n?t(s,!1):(this.innerList=!1,this.expect("=")?i(t(s,!1),this.next().read_expr(),"="):t(s,!1))}if(this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:t=this.node("isset"),this.next().expect("(")&&this.next();var h=this.read_list(this.read_expr,",");return this.expect(")")&&this.next(),t(h);case this.tok.T_EMPTY:t=this.node("empty"),this.next().expect("(")&&this.next();var a=this.read_expr();return this.expect(")")&&this.next(),t(a);case this.tok.T_INCLUDE:return this.node("include")(!1,!1,this.next().read_expr());case this.tok.T_INCLUDE_ONCE:return this.node("include")(!0,!1,this.next().read_expr());case this.tok.T_REQUIRE:return this.node("include")(!1,!0,this.next().read_expr());case this.tok.T_REQUIRE_ONCE:return this.node("include")(!0,!0,this.next().read_expr());case this.tok.T_EVAL:return t=this.node("eval"),this.next().expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),t(e);case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(-1!==this.text().indexOf("binary")?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_EXIT:var l="die"===this.lexer.yytext.toLowerCase();t=this.node("exit");var c=null;return"("===this.next().token&&(")"!==this.next().token?(c=this.read_expr(),this.expect(")")&&this.next()):this.next()),t(c,l);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var u=null,_=null;return t=this.node("yield"),this.next().is("EXPR")&&(u=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(_=u,u=this.next().read_expr())),t(u,_);case this.tok.T_YIELD_FROM:return(t=this.node("yieldfrom"))(e=this.next().read_expr());case this.tok.T_FUNCTION:return this.read_function(!0);case this.tok.T_STATIC:var p=[this.token,this.lexer.getState()];if(this.next().token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);this.lexer.tokens.push(p),this.next()}if(this.is("VARIABLE")){t=this.node();var f="identifier"===(e=this.read_variable(!1,!1,!1)).kind||"staticlookup"===e.kind&&"identifier"===e.offset.kind;switch(this.token){case"=":return f&&this.error("VARIABLE"),t("assign",e,"&"==this.next().token?this.next().token===this.tok.T_NEW?this.read_new_expr():this.read_variable(!1,!1,!0):this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return f&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_INC:return f&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return f&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else{if(this.is("SCALAR")){if(t=this.node(),"array"===(e=this.read_scalar()).kind&&e.shortForm&&"="===this.token){var d=this.node("list")(e.items,!0);return e.loc&&(d.loc=e.loc),t("assign",d,this.next().read_expr(),"=")}return t.destroy(e),this.handleDereferencable(e)}this.error("EXPR"),this.next()}return e},read_new_expr:function(){var t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var e=[];if(this.token===this.tok.T_CLASS){var i=this.node("class"),n=null,s=null,r=null;return"("===this.next().token&&(e=this.read_function_argument_list()),this.token==this.tok.T_EXTENDS&&(n=this.next().read_namespace_name()),this.token==this.tok.T_IMPLEMENTS&&(s=this.next().read_name_list()),this.expect("{")&&(r=this.next().read_class_body()),t(i(null,n,s,r,[0,0,0]),e)}var o=this.read_new_class_name();return"("===this.token&&(e=this.read_function_argument_list()),t(o,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}if(this.is("VARIABLE"))return this.read_variable(!0,!1,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||"["===this.token)t=this.read_dereferencable(t);else{if("("!==this.token)return t;t=this.node("call")(t,this.read_function_argument_list())}return t}},{is_reference:function(){return"&"==this.token&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(t,e){var i=this.read_function_declaration(t?1:e?2:0,e&&1===e[1]);return e&&1==e[2]?(i.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(i.body=this.read_code_block(!1),i.loc&&i.body.loc&&(i.loc.end=i.body.loc.end)),!t&&e&&i.parseFlags(e)),i},read_function_declaration:function(t,e){var i="function";1===t?i="closure":2===t&&(i="method");var n=this.node(i);this.expect(this.tok.T_FUNCTION)&&this.next();var s=this.is_reference(),r=!1,o=[],h=null,a=!1;if(1!==t){var l=this.node("identifier");2===t?this.token===this.tok.T_STRING||this.php7&&this.is("IDENTIFIER")?(r=this.text(),this.next()):this.error("IDENTIFIER"):(this.expect(this.tok.T_STRING)&&(r=this.text()),this.next()),r=l(r)}this.expect("(")&&this.next();var c=this.read_parameter_list();return this.expect(")")&&this.next(),1===t&&this.token===this.tok.T_USE&&(this.next().expect("(")&&this.next(),o=this.read_list(this.read_lexical_var,","),this.expect(")")&&this.next()),":"===this.token&&("?"===this.next().token&&(a=!0,this.next()),h=this.read_type()),1===t?n(c,s,o,h,a,e):n(r,c,s,h,a)},read_lexical_var:function(){var t=this.node("variable"),e=!1;"&"===this.token&&(e=!0,this.next()),this.expect(this.tok.T_VARIABLE);var i=this.text().substring(1);return this.next(),t(i,e,!1)},read_parameter_list:function(){var t=[];if(")"!=this.token)for(;this.token!=this.EOF;){if(t.push(this.read_parameter()),","!=this.token){if(")"==this.token)break;this.error([",",")"]);break}this.next()}return t},read_parameter:function(){var t,e=this.node("parameter"),i=null,n=null,s=!1;"?"===this.token&&(this.next(),s=!0),t=this.read_type(),s&&!t&&this.raiseError("Expecting a type definition combined with nullable operator");var r=this.is_reference(),o=this.is_variadic();return this.expect(this.tok.T_VARIABLE)&&(i=this.text().substring(1),this.next()),"="==this.token&&(n=this.next().read_expr()),e(i,t,n,r,o,s)},read_function_argument_list:function(){var t=[],e=!1;if(this.expect("(")&&this.next(),")"!==this.token)for(;this.token!=this.EOF;){var i=this.read_argument_list();if(i&&(t.push(i),"variadic"===i.kind?e=!0:e&&this.raiseError("Unexpected argument after a variadic argument")),","!==this.token)break;this.next()}return this.expect(")")&&this.next(),t},read_argument_list:function(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):this.read_expr()},read_type:function(){var t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}if(this.token===this.tok.T_STRING){var i=this.text(),n=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(i.toLowerCase())>-1?t("typereference",i.toLowerCase(),i):(this.lexer.tokens.push(n),this.next(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?this.read_namespace_name():null}},{read_if:function(){var t,e=this.node("if"),i=null,n=null,s=!1;if(t=this.next().read_if_expr(),":"===this.token){s=!0,this.next(),i=this.node("block");for(var r=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){n=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){n=this.read_else_short();break}r.push(this.read_inner_statement())}i=i(null,r),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?n=this.read_if():this.token===this.tok.T_ELSE&&(n=this.next().read_statement());return e(t,i,n,s)},read_if_expr:function(){this.expect("(")&&this.next();var t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){var t,e=this.node("if"),i=null,n=null,s=[];for(t=this.next().read_if_expr(),this.expect(":")&&this.next(),n=this.node("block");this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){i=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){i=this.read_else_short();break}s.push(this.read_inner_statement())}return e(t,n=n(null,s),i,!0)},read_else_short:function(){var t=this.node("block");this.next().expect(":")&&this.next();for(var e=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}},{read_while:function(){var t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var e,i=null,n=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),":"===this.token?(n=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,n)},read_do:function(){var t=this.node("do");this.expect(this.tok.T_DO)&&this.next();var e,i=null;return e=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),i=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(i,e)},read_for:function(){var t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var e=[],i=[],n=[],s=null,r=!1;return this.expect("(")&&this.next(),";"!==this.token?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),";"!==this.token?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),")"!==this.token?(n=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),":"===this.token?(r=!0,s=this.read_short_form(this.tok.T_ENDFOR)):s=this.read_statement(),t(e,i,n,s,r)},read_foreach:function(){var t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var e,i=null,n=null,s=null,r=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),n=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=n,n=this.next().read_foreach_variable())),i&&"list"===i.kind&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),":"===this.token?(r=!0,s=this.read_short_form(this.tok.T_ENDFOREACH)):s=this.read_statement(),t(e,i,n,s,r)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||"["===this.token){var t="["===this.token,e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();var i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}return this.read_variable(!1,!1,!1)}},{read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}},{read_namespace:function(){var t,e=this.node("namespace");if(this.expect(this.tok.T_NAMESPACE)&&this.next(),"{"==this.token)return this.currentNamespace=[""],t=this.next().read_top_statements(),this.expect("}")&&this.next(),e([""],t,!0);var i=this.read_namespace_name();return";"==this.token?(this.currentNamespace=i,t=this.next().read_top_statements(),this.expect(this.EOF),e(i.name,t,!1)):"{"==this.token?(this.currentNamespace=i,t=this.next().read_top_statements(),this.expect("}")&&this.next(),e(i.name,t,!0)):"("===this.token?(i.resolution=this.ast.reference.RELATIVE_NAME,i.name=i.name.substring(1),e.destroy(),this.node("call")(i,this.read_function_argument_list())):(this.error(["{",";"]),this.currentNamespace=i,t=this.read_top_statements(),this.expect(this.EOF),e(i,t,!1))},read_namespace_name:function(t){var e=this.node(),i=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),i=!0);var n=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!i&&1===n.length&&(t||"("!==this.token)){if("parent"===n[0].toLowerCase())return e("parentreference",n[0]);if("self"===n[0].toLowerCase())return e("selfreference",n[0])}return e("classreference",n,i)},read_use_statement:function(){var t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();var n=this.read_use_type();return e.push(this.read_use_declaration(!1)),","===this.token?e=e.concat(this.next().read_use_declarations(!1)):"{"===this.token&&(i=e[0].name,e=this.next().read_use_declarations(null===n),this.expect("}")&&this.next()),t=t(i,n,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1,!1)},read_use_declaration:function(t){var e=this.node("useitem"),i=null;t&&(i=this.read_use_type());var n=this.read_namespace_name(),s=this.read_use_alias();return e(n.name,s,i)},read_use_declarations:function(t){for(var e=[this.read_use_declaration(t)];","===this.token;){if(this.next(),t){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){var t=null;return this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)&&(t=this.text(),this.next()),t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}},d,T,{read_switch:function(){var t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var e=this.read_expr();this.expect(")")&&this.next();var i=":"===this.token;return t(e,this.read_switch_case_list(),i)},read_switch_case_list:function(){var t=null,e=this.node("block"),i=[];for("{"===this.token?t="}":":"===this.token?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),";"===this.next().token&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){var e=this.node("case"),i=null,n=null,s=[];for(this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next(),n=this.node("block");this.token!=this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)s.push(this.read_inner_statement());return e(i,s.length>0?n(null,s):null)}},{read_try:function(){this.expect(this.tok.T_TRY);for(var t=this.node("try"),e=null,i=[],n=this.next().read_statement();this.token===this.tok.T_CATCH;){var s=this.node("catch");this.next().expect("(")&&this.next();var r=this.read_list(this.read_namespace_name,"|",!1),o=this.read_variable(!0,!1,!1);this.expect(")"),i.push(s(this.next().read_statement(),r,o))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(n,i,e)}},{read_short_form:function(t){var e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_list:function(t,e,i){var n=[];if(this.token==e&&(i&&n.push(null),this.next()),"function"==typeof t){do{if(n.push(t.apply(this,[])),this.token!=e)break}while(this.next().token!=this.EOF)}else{if(!this.expect(t))return[];for(n.push(this.text());this.next().token!=this.EOF&&this.token==e&&this.next().token==t;)n.push(this.text())}return n},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_variable_declarations:function(){return this.read_list(function(){var t=this.node("staticvariable"),e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var i=this.text().substring(1);this.next(),e=e(i,!1,!1)}else e=e("#ERR",!1,!1);return"="===this.token?t(e,this.next().read_expr()):e},",")}},k].forEach(function(t){for(var e in t){if(x.prototype.hasOwnProperty(e))throw new Error("Function "+e+" is already defined - collision");x.prototype[e]=t[e]}});var y=x,A={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233}},v=function(t,e,i){this.source=t,this.start=e,this.end=i},g=function(t,e,i){this.line=t,this.column=e,this.offset=i},N=function(t,e,i){this.kind=t,e&&(this.leadingComments=e),i&&(this.loc=i)};N.prototype.setTrailingComments=function(t){this.trailingComments=t},N.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t},N.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this},N.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};var C=N,L=C.extends("expression",function(t,e,i){C.apply(this,[t||"expression",e,i])}),S=L.extends("array",function(t,e,i,n){L.apply(this,["array",i,n]),this.items=e,this.shortForm=t}),O=L.extends("assign",function(t,e,i,n,s){L.apply(this,["assign",n,s]),this.operator=i,this.left=t,this.right=e}),I=L.extends("operation",function(t,e,i){L.apply(this,[t||"operation",e,i])}),b=I.extends("bin",function(t,e,i,n,s){I.apply(this,["bin",n,s]),this.type=t,this.left=e,this.right=i}),R=C.extends("statement",function(t,e,i){C.apply(this,[t||"statement",e,i])}),w=R.extends("block",function(t,e,i,n){R.apply(this,[t||"block",i,n]),this.children=e.filter(Boolean)}),D=L.extends("literal",function(t,e,i,n,s){L.apply(this,[t||"literal",n,s]),this.value=e,i&&(this.raw=i)}),P=D.extends("boolean",function(t,e,i,n){D.apply(this,["boolean",t,e,i,n])}),U=R.extends("break",function(t,e,i){R.apply(this,["break",e,i]),this.level=t}),B=L.extends("call",function(t,e,i,n){L.apply(this,["call",i,n]),this.what=t,this.arguments=e}),M=R.extends("case",function(t,e,i,n){R.apply(this,["case",i,n]),this.test=t,this.body=e}),F=I.extends("cast",function(t,e,i,n,s){I.apply(this,["cast",n,s]),this.type=t,this.raw=e,this.what=i}),H=R.extends("catch",function(t,e,i,n,s){R.apply(this,["catch",n,s]),this.body=t,this.what=e,this.variable=i}),G=R.extends("declaration",function(t,e,i,n){R.apply(this,[t||"declaration",i,n]),this.name=e});G.prototype.parseFlags=function(t){this.isAbstract=1===t[2],this.isFinal=2===t[2],"class"!==this.kind&&(-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private"),this.isStatic=1===t[1])};var V=G,W=V.extends("class",function(t,e,i,n,s,r,o){V.apply(this,["class",t,r,o]),this.isAnonymous=!t,this.extends=e,this.implements=i,this.body=n,this.parseFlags(s)}),Q=R.extends("constantstatement",function(t,e,i,n){R.apply(this,[t||"constantstatement",i,n]),this.items=e}),Y=Q.extends("classconstant",function(t,e,i,n,s){Q.apply(this,[t||"classconstant",e,n,s]),this.parseFlags(i)});Y.prototype.parseFlags=function(t){-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private")};var $=Y,j=C.extends("reference",function(t,e,i){C.apply(this,[t||"reference",e,i])}),z=j.extends("classreference",function t(e,i,n,s){j.apply(this,["classreference",n,s]),i?this.resolution=t.RELATIVE_NAME:1===e.length?this.resolution=t.UNQUALIFIED_NAME:e[0]?this.resolution=t.QUALIFIED_NAME:this.resolution=t.FULL_QUALIFIED_NAME,this.name=e.join("\\")});z.UNQUALIFIED_NAME="uqn",z.QUALIFIED_NAME="qn",z.FULL_QUALIFIED_NAME="fqn",z.RELATIVE_NAME="rn";var K=z,X=L.extends("clone",function(t,e,i){L.apply(this,["clone",e,i]),this.what=t}),J=L.extends("closure",function(t,e,i,n,s,r,o,h){L.apply(this,["closure",o,h]),this.uses=i,this.arguments=t,this.byref=e,this.type=n,this.nullable=s,this.isStatic=r||!1,this.body=null}),q=C.extends("comment",function(t,e,i,n){C.apply(this,[t,i,n]),this.value=e}),Z=q.extends("commentblock",function(t,e,i){q.apply(this,["commentblock",t,e,i])}),tt=q.extends("commentline",function(t,e,i){q.apply(this,["commentline",t,e,i])}),et=C.extends("constant",function(t,e,i,n){C.apply(this,["constant",i,n]),this.name=t,this.value=e}),it=R.extends("continue",function(t,e,i){R.apply(this,["continue",e,i]),this.level=t}),nt=w.extends("declare",function(t,e,i,n,s){w.apply(this,["declare",e,n,s]),this.directives=t,this.mode=i});nt.MODE_SHORT="short",nt.MODE_BLOCK="block",nt.MODE_NONE="none";var st=nt,rt=C.extends("declaredirective",function(t,e,i,n){C.apply(this,["declaredirective",i,n]),this.key=t,this.value=e}),ot=R.extends("do",function(t,e,i,n){R.apply(this,["do",i,n]),this.test=t,this.body=e}),ht=R.extends("echo",function(t,e,i,n){R.apply(this,["echo",i,n]),this.shortForm=e,this.expressions=t}),at=L.extends("empty",function(t,e,i){L.apply(this,["empty",e,i]),this.expression=t}),lt=D.extends("encapsed",function(t,e,i,n,s){D.apply(this,["encapsed",t,e,n,s]),this.type=i});lt.TYPE_STRING="string",lt.TYPE_SHELL="shell",lt.TYPE_HEREDOC="heredoc",lt.TYPE_OFFSET="offset";var ct=lt,ut=L.extends("encapsedpart",function(t,e,i,n){L.apply(this,["encapsedpart",i,n]),this.expression=t,this.curly=e}),_t=L.extends("entry",function(t,e,i,n){L.apply(this,["entry",i,n]),this.key=t,this.value=e}),pt=C.extends("error",function(t,e,i,n,s,r){C.apply(this,["error",s,r]),this.message=t,this.token=e,this.line=i,this.expected=n}),ft=L.extends("eval",function(t,e,i){L.apply(this,["eval",e,i]),this.source=t}),dt=L.extends("exit",function(t,e,i,n){L.apply(this,["exit",i,n]),this.status=t,this.useDie=e}),Tt="expressionstatement",kt=R.extends(Tt,function(t,e,i){R.apply(this,[Tt,e,i]),this.expression=t}),Et=R.extends("for",function(t,e,i,n,s,r,o){R.apply(this,["for",r,o]),this.init=t,this.test=e,this.increment=i,this.shortForm=s,this.body=n}),xt=R.extends("foreach",function(t,e,i,n,s,r,o){R.apply(this,["foreach",r,o]),this.source=t,this.key=e,this.value=i,this.shortForm=s,this.body=n}),mt=V.extends("function",function(t,e,i,n,s,r,o){V.apply(this,["function",t,r,o]),this.arguments=e,this.byref=i,this.type=n,this.nullable=s,this.body=null}),yt=R.extends("global",function(t,e,i){R.apply(this,["global",e,i]),this.items=t}),At=R.extends("goto",function(t,e,i){R.apply(this,["goto",e,i]),this.label=t}),vt=R.extends("halt",function(t,e,i){R.apply(this,["halt",e,i]),this.after=t}),gt=C.extends("identifier",function(t,e,i){C.apply(this,["identifier",e,i]),this.name=t}),Nt=R.extends("if",function(t,e,i,n,s,r){R.apply(this,["if",s,r]),this.test=t,this.body=e,this.alternate=i,this.shortForm=n}),Ct=L.extends("include",function(t,e,i,n,s){L.apply(this,["include",n,s]),this.once=t,this.require=e,this.target=i}),Lt=D.extends("inline",function(t,e,i,n){D.apply(this,["inline",t,e,i,n])}),St=V.extends("interface",function(t,e,i,n,s){V.apply(this,["interface",t,n,s]),this.extends=e,this.body=i}),Ot=L.extends("isset",function(t,e,i){L.apply(this,["isset",e,i]),this.variables=t}),It=R.extends("label",function(t,e,i){R.apply(this,["label",e,i]),this.name=t}),bt=L.extends("list",function(t,e,i,n){L.apply(this,["list",i,n]),this.items=t,this.shortForm=e}),Rt=L.extends("lookup",function(t,e,i,n,s){L.apply(this,[t||"lookup",n,s]),this.what=e,this.offset=i}),wt=D.extends("magic",function(t,e,i,n){D.apply(this,["magic",t,e,i,n])}),Dt=mt.extends("method",function(){mt.apply(this,arguments),this.kind="method"}),Pt=w.extends("namespace",function(t,e,i,n,s){w.apply(this,["namespace",e,n,s]),this.name=t,this.withBrackets=i||!1}),Ut=L.extends("new",function(t,e,i,n){L.apply(this,["new",i,n]),this.what=t,this.arguments=e}),Bt=D.extends("nowdoc",function(t,e,i,n,s,r){D.apply(this,["nowdoc",t,e,s,r]),this.label=i,this.quote=n}),Mt=D.extends("number",function(t,e,i,n){D.apply(this,["number",t,e,i,n])}),Ft=Rt.extends("offsetlookup",function(t,e,i,n){Rt.apply(this,["offsetlookup",t,e,i,n])}),Ht=V.extends("parameter",function(t,e,i,n,s,r,o,h){V.apply(this,["parameter",t,o,h]),this.value=i,this.type=e,this.byref=n,this.variadic=s,this.nullable=r}),Gt=j.extends("parentreference",function(t,e,i){j.apply(this,["parentreference",e,i]),this.raw=t}),Vt=I.extends("post",function(t,e,i,n){I.apply(this,["post",i,n]),this.type=t,this.what=e}),Wt=I.extends("pre",function(t,e,i,n){I.apply(this,["pre",i,n]),this.type=t,this.what=e}),Qt=L.extends("print",function(t,e,i){L.apply(this,["print",e,i]),this.expression=t}),Yt=w.extends("program",function(t,e,i,n,s,r){w.apply(this,["program",t,s,r]),this.errors=e,i&&(this.comments=i),n&&(this.tokens=n)}),$t=V.extends("property",function(t,e,i,n,s){V.apply(this,["property",t,n,s]),this.value=e,this.parseFlags(i)}),jt=Rt.extends("propertylookup",function(t,e,i,n){Rt.apply(this,["propertylookup",t,e,i,n])}),zt=L.extends("retif",function(t,e,i,n,s){L.apply(this,["retif",n,s]),this.test=t,this.trueExpr=e,this.falseExpr=i}),Kt=R.extends("return",function(t,e,i){R.apply(this,["return",e,i]),this.expr=t}),Xt=j.extends("selfreference",function(t,e,i){j.apply(this,["selfreference",e,i]),this.raw=t}),Jt=L.extends("silent",function(t,e,i){L.apply(this,["silent",e,i]),this.expr=t}),qt=R.extends("static",function(t,e,i){R.apply(this,["static",e,i]),this.variables=t}),Zt=C.extends("staticvariable",function(t,e,i,n){C.apply(this,["staticvariable",i,n]),this.variable=t,this.defaultValue=e}),te=Rt.extends("staticlookup",function(t,e,i,n){Rt.apply(this,["staticlookup",t,e,i,n])}),ee=j.extends("staticreference",function(t,e,i){j.apply(this,["staticreference",e,i]),this.raw=t}),ie=D.extends("string",function(t,e,i,n,s,r){D.apply(this,["string",e,n,s,r]),this.unicode=i,this.isDoubleQuote=t}),ne=R.extends("switch",function(t,e,i,n,s){R.apply(this,["switch",n,s]),this.test=t,this.body=e,this.shortForm=i}),se=R.extends("throw",function(t,e,i){R.apply(this,["throw",e,i]),this.what=t}),re=V.extends("trait",function(t,e,i,n){V.apply(this,["trait",t,i,n]),this.body=e}),oe=C.extends("traitalias",function(t,e,i,n,s,r){C.apply(this,["traitalias",s,r]),this.trait=t,this.method=e,this.as=i,this.visibility="",n&&(0===n[0]?this.visibility="public":1===n[0]?this.visibility="protected":2===n[0]&&(this.visibility="private"))}),he=C.extends("traitprecedence",function(t,e,i,n,s){C.apply(this,["traitprecedence",n,s]),this.trait=t,this.method=e,this.instead=i}),ae=C.extends("traituse",function(t,e,i,n){C.apply(this,["traituse",i,n]),this.traits=t,this.adaptations=e}),le=R.extends("try",function(t,e,i,n,s){R.apply(this,["try",n,s]),this.body=t,this.catches=e,this.always=i}),ce=j.extends("typereference",function(t,e,i,n){j.apply(this,["typereference",i,n]),this.name=t,this.raw=e});ce.types=["int","float","string","bool","object","array","callable","iterable","void"];var ue=ce,_e=I.extends("unary",function(t,e,i,n){I.apply(this,["unary",i,n]),this.type=t,this.what=e}),pe=R.extends("unset",function(t,e,i){R.apply(this,["unset",e,i]),this.variables=t}),fe=R.extends("usegroup",function(t,e,i,n,s){R.apply(this,["usegroup",n,s]),this.name=t,this.type=e,this.items=i}),de=R.extends("useitem",function(t,e,i,n,s){R.apply(this,["useitem",n,s]),this.name=t,this.alias=e,this.type=i});de.TYPE_CONST="const",de.TYPE_FUNCTION="function";var Te=de,ke=L.extends("variable",function(t,e,i,n,s){L.apply(this,["variable",n,s]),this.name=t,this.byref=e||!1,this.curly=i||!1}),Ee=L.extends("variadic",function(t,e,i){L.apply(this,["variadic",e,i]),this.what=t}),xe=R.extends("while",function(t,e,i,n,s){R.apply(this,["while",n,s]),this.test=t,this.body=e,this.shortForm=i}),me=L.extends("yield",function(t,e,i,n){L.apply(this,["yield",i,n]),this.value=t,this.key=e}),ye=L.extends("yieldfrom",function(t,e,i){L.apply(this,["yieldfrom",e,i]),this.value=t}),Ae=function(t,e){this.withPositions=t,this.withSource=e};Ae.prototype.position=function(t){return new g(t.lexer.yylloc.first_line,t.lexer.yylloc.first_column,t.lexer.yylloc.first_offset)},Ae.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast"]].forEach(function(t,e){t.forEach(function(t){Ae.precedence[t]=e+1})}),Ae.prototype.swapLocations=function(t,e,i,n){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=n.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},Ae.prototype.resolvePrecedence=function(t,e){var i,n,s;return"call"===t.kind?this.swapLocations(t,t.what,t,e):"propertylookup"===t.kind?this.swapLocations(t,t.what,t.offset,e):"bin"===t.kind?t.right&&!t.right.parenthesizedExpression&&("bin"===t.right.kind?(n=Ae.precedence[t.type],s=Ae.precedence[t.right.type],n&&s&&s<=n&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),t=i)):"retif"===t.right.kind&&(n=Ae.precedence[t.type],s=Ae.precedence["?"],n&&s&&s<=n&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):"cast"===t.kind&&t.what&&!t.what.parenthesizedExpression?"bin"===t.what.kind?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):"retif"===t.what.kind&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):"unary"===t.kind?t.what&&!t.what.parenthesizedExpression&&("bin"===t.what.kind?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):"retif"===t.what.kind&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):"retif"===t.kind?t.falseExpr&&"retif"===t.falseExpr.kind&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):"assign"===t.kind&&t.right&&"bin"===t.right.kind&&!t.right.parenthesizedExpression&&(n=Ae.precedence["="],s=Ae.precedence[t.right.type],n&&s&&s<n&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)),t},Ae.prototype.prepare=function(t,e,i){var n=null;(this.withPositions||this.withSource)&&(n=this.position(i));var s=this,r=function r(){var o=null,h=Array.prototype.slice.call(arguments);if(h.push(e),"function"==typeof r.preBuild&&r.preBuild(arguments),s.withPositions||s.withSource){var a=null;s.withSource&&(a=i.lexer._input.substring(n.offset,i.prev[2])),o=s.withPositions?new v(a,n,new g(i.prev[0],i.prev[1],i.prev[2])):new v(a,null,null),h.push(o)}t||(t=h.shift());var l=s[t];if("function"!=typeof l)throw new Error('Undefined node "'+t+'"');var c=Object.create(l.prototype);return l.apply(c,h),r.instance=c,r.trailingComments&&(c.trailingComments=r.trailingComments),"function"==typeof r.postBuild&&r.postBuild(c),i.debug&&delete Ae.stack[r.stackUid],s.resolvePrecedence(c,i)};return i.debug&&(Ae.stack||(Ae.stack={},Ae.stackUid=1),Ae.stack[++Ae.stackUid]={position:n,stack:(new Error).stack.split("\n").slice(3,5)},r.stackUid=Ae.stackUid),r.setKind=function(e){t=e},r.setTrailingComments=function(t){r.instance?r.instance.setTrailingComments(t):r.trailingComments=t},r.destroy=function(t){e&&(t?t.leadingComments?t.leadingComments=e.concat(t.leadingComments):t.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete Ae.stack[r.stackUid]},r},Ae.prototype.checkNodes=function(){var t=[];for(var e in Ae.stack)Ae.stack.hasOwnProperty(e)&&t.push(Ae.stack[e]);return Ae.stack={},t},[S,O,b,w,P,U,B,M,F,H,W,$,K,X,J,q,Z,tt,et,Q,it,V,st,rt,ot,ht,at,ct,ut,_t,pt,ft,dt,L,kt,Et,xt,mt,yt,At,vt,gt,Nt,Ct,Lt,St,Ot,It,bt,D,Rt,wt,Dt,Pt,Ut,C,Bt,Mt,Ft,I,Ht,Gt,Vt,Wt,Qt,Yt,$t,jt,j,zt,Kt,Xt,Jt,R,qt,Zt,te,ee,ie,ne,se,re,oe,he,ae,le,ue,_e,pe,fe,Te,ke,Ee,xe,me,ye].forEach(function(t){Ae.prototype[t.kind]=t});var ve=Ae;function ge(t,e){for(var n=Object.keys(t),s=n.length;s--;){var r=n[s],o=t[r];null===o?delete e[r]:"function"==typeof o?e[r]=o.bind(e):Array.isArray(o)?e[r]=Array.isArray(e[r])?e[r].concat(o):o:"object"===i(o)?e[r]="object"===i(e[r])?ge(o,e[r]):o:e[r]=o}return e}var Ne=function(t){if("function"==typeof this)return new this(t);this.tokens=A,this.lexer=new _(this),this.ast=new ve,this.parser=new y(this.lexer,this.ast),t&&"object"===i(t)&&(t.parser&&!1===t.parser.php7&&(t.lexer||(t.lexer={}),t.lexer.php7=!1),ge(t,this))},Ce=function(t){return o.isBuffer(t)?t.toString():t};Ne.create=function(t){return new Ne(t)},Ne.parseEval=function(t,e){return new Ne(e).parseEval(t)},Ne.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=Ce(t),this.parser.parse(t,"eval")},Ne.parseCode=function(t,e,n){return"object"!==i(e)||n||(n=e,e="unknown"),new Ne(n).parseCode(t,e)},Ne.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=Ce(t),this.parser.parse(t,e)},Ne.tokenGetAll=function(t,e){return new Ne(e).tokenGetAll(t)},Ne.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=Ce(t);var e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);for(var n=this.lexer.lex()||e,s=[];n!=e;){var r=this.lexer.yytext;i.hasOwnProperty(n)&&(r=[i[n],r,this.lexer.yylloc.first_line]),s.push(r),n=this.lexer.lex()||e}return s};var Le=Ne,Se=A,Oe=_,Ie=ve,be=y,Re=ge,we=Ne;Le.tokens=Se,Le.lexer=Oe,Le.AST=Ie,Le.parser=be,Le.combine=Re,Le.default=we;var De=function(t,e,i){var n=i&&"markdown"===i.parentParser;if(!t&&n)return"";t=t.replace(/\?>\r?\n<\?/g,"?>\n___PSEUDO_INLINE_PLACEHOLDER___<?");var s,r=new Le({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),o=-1!==t.indexOf("<?php"),h=n&&!o;try{s=h?r.parseEval(t):r.parseCode(t)}catch(t){throw t instanceof SyntaxError&&"lineNumber"in t&&(t.loc={start:{line:t.lineNumber,column:t.columnNumber}},delete t.lineNumber,delete t.columnNumber),t}return s.extra={parseAsEval:h},s.comments.forEach(function(t){"\r"===t.value[t.value.length-1]&&(t.value=t.value.slice(0,-1),t.loc.end.offset=t.loc.end.offset-1),"\n"===t.value[t.value.length-1]&&(t.value=t.value.slice(0,-1),t.loc.end.offset=t.loc.end.offset-1)}),s},Pe=e.util,Ue=Pe.hasNewline,Be=Pe.skipEverythingButNewLine,Me=Pe.skipNewline;var Fe={};function He(t){return Fe[t]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(t,e){t.forEach(function(t){Fe[t]=e})});var Ge=["==","!=","===","!==","<>","<=>"],Ve=["*","/","%"],We=[">>","<<"];function Qe(t){return["block","program","namespace","class","interface","trait","traituse","declare"].includes(t.kind)}function Ye(t){var e=t.body;return e?("block"===e.kind&&(e=e.children),e[0]):null}function $e(t){var e=t.children||t.body||t.adaptations;return Array.isArray(e)?e:null}function je(t){var e=t.getParentNode();return e?$e(e):null}function ze(t){return t.length>0?t[t.length-1]:null}function Ke(t){var e=t.getValue();if("program"===e.kind){var i=$e(e);return!(!i||0===i.length)&&"inline"===i[0].kind}if("switch"===e.kind){if(!e.body)return!1;var s=$e(e.body);if(0===s.length)return!1;var r=n(s,1)[0];if(!r.body)return!1;var o=$e(r.body);return 0!==o.length&&"inline"===o[0].kind}var h=Ye(e);return!!h&&"inline"===h.kind}var Xe=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(t,e){return t[e.toLowerCase()]=e,t},{});var Je={printNumber:function(t){return t.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e|$)/,"")},getPrecedence:He,isBitwiseOperator:function(t){return!!We[t]||"|"===t||"^"===t||"&"===t},shouldFlatten:function(t,e){return!(He(e)!==He(t)||"**"===t||Ge.includes(t)&&Ge.includes(e)||"%"===e&&Ve.includes(t)||"%"===t&&Ve.includes(e)||e!==t&&Ve.includes(e)&&Ve.includes(t)||We.includes(t)&&We.includes(e))},nodeHasStatement:Qe,getNodeListProperty:$e,getParentNodeListProperty:je,getLast:ze,getPenultimate:function(t){return t.length>1?t[t.length-2]:null},isLastStatement:function(t){var e=je(t);if(!e)return!0;var i=t.getValue();return e[e.length-1]===i},getBodyFirstChild:Ye,lineShouldEndWithSemicolon:function(t){var e=t.getValue(),i=t.getParentNode();if(!i)return!1;if(["for","foreach","while","do","if","switch"].includes(i.kind)&&"block"!==e.kind&&"if"!==e.kind&&(i.body===e||i.alternate===e))return!0;if(!Qe(i))return!1;if("echo"===e.kind&&e.shortForm)return!1;if("traituse"===e.kind)return!e.adaptations;if("method"===e.kind&&e.isAbstract)return!0;if("method"===e.kind){var n=t.getParentNode();if(n&&"interface"===n.kind)return!0}return["expressionstatement","array","assign","return","break","continue","call","pre","post","bin","unary","yield","yieldfrom","echo","list","print","isset","retif","unset","empty","traitprecedence","traitalias","constantstatement","classconstant","exit","global","static","include","goto","throw","magic","new","eval","propertylookup","staticlookup","offsetlookup","silent","usegroup","property","string","boolean","number","nowdoc","encapsed","variable","cast","clone","do","constref"].includes(e.kind)},fileShouldEndWithHardline:function(t){var e=t.getValue(),i="program"===e.kind,n=e.children&&ze(e.children);if(!i)return!1;if(n&&["halt","inline"].includes(n.kind))return!1;if(n&&("declare"===n.kind||"namespace"===n.kind)){var s=n.children.length>0&&ze(n.children);if(s&&["halt","inline"].includes(s.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(t){var e=t.replace(/^\\/,"");return-1!==e.indexOf("\\")?e:t},hasDanglingComments:function(t){return t.comments&&t.comments.some(function(t){return!t.leading&&!t.trailing})},hasLeadingComment:function(t){return t.comments&&t.comments.some(function(t){return t.leading})},hasTrailingComment:function(t){return t.comments&&t.comments.some(function(t){return t.trailing})},docShouldHaveTrailingNewline:function(t){var e=t.getValue(),i=t.getParentNode(),n=t.getParentNode(1);if(!i)return!1;if(n&&["call","new","echo"].includes(n.kind)&&"call"!==i.kind||"parameter"===i.kind){var s=n.arguments.length-1;return n.arguments.indexOf(i)!==s}if(n&&"for"===n.kind){var r=n.init.indexOf(i);if(-1!==r)return r!==n.init.length-1;var o=n.test.indexOf(i);if(-1!==o)return o!==n.test.length-1;var h=n.increment.indexOf(i);if(-1!==h)return h!==n.increment.length-1}if("bin"===i.kind)return!(!n||"bin"!==n.kind)||i.left===e;if("case"===i.kind&&i.test===e)return!0;if("staticvariable"===i.kind){var a=n.variables.length-1;return n.variables.indexOf(i)!==a}if("entry"===i.kind){if(i.key===e)return!0;var l=n.items.length-1;return n.items.indexOf(i)!==l}if(["call","new"].includes(i.kind)){var c=i.arguments.length-1;return i.arguments.indexOf(e)!==c}if("echo"===i.kind){var u=i.expressions.length-1;return i.expressions.indexOf(e)!==u}if("array"===i.kind){var _=i.items.length-1;return i.items.indexOf(e)!==_}return!1},isLookupNode:function(t){return"propertylookup"===t.kind||"staticlookup"===t.kind||"offsetlookup"===t.kind},isFirstChildrenInlineNode:Ke,shouldPrintHardLineAfterStartInControlStructure:function(t){var e=t.getValue();return!["try","catch"].includes(e.kind)&&Ke(t)},shouldPrintHardLineBeforeEndInControlStructure:function(t){var e=t.getValue();if(["try","catch"].includes(e.kind))return!0;if("switch"===e.kind){var i=$e(e.body);if(0===i.length)return!0;var n=ze(i);if(!n.body)return!0;var s=$e(n.body);return 0===s.length||"inline"!==s[0].kind}return!Ke(t)},getAlignment:function(t){var e=t.split("\n").pop();return e.length-e.trimLeft().length+1},isProgramLikeNode:function(t){return["program","declare","namespace"].includes(t.kind)},isReferenceLikeNode:function(t){return["classreference","parentreference","selfreference","staticreference"].includes(t.kind)},getNodeKindIncludingLogical:function(t){return"bin"===t.kind&&["||","&&"].includes(t.type)?"logical":t.kind},useSingleQuote:function(t,e){return!t.isDoubleQuote||e.singleQuote&&!t.raw.match(/\\n|\\t|\\r|\\t|\\v|\\e|\\f/)&&!t.value.match(/["'$\n]|\\[0-7]{1,3}|\\x[0-9A-Fa-f]{1,2}|\\u{[0-9A-Fa-f]+}/)},hasEmptyBody:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",i=t.getValue();return i[e]&&i[e].children&&0===i[e].children.length&&(!i[e].comments||0===i[e].comments.length)},isNextLineEmptyAfterNamespace:function(t,e,i){var n=i(e);return n=Be(t,n),n=Me(t,n),Ue(t,n)},shouldPrintHardlineBeforeTrailingComma:function(t){return"nowdoc"===t.kind||"encapsed"===t.kind&&"heredoc"===t.type||"entry"===t.kind&&("nowdoc"===t.value.kind||"encapsed"===t.value.kind&&"heredoc"===t.value.type)},isDocNode:function(t){return"nowdoc"===t.kind||"encapsed"===t.kind&&"heredoc"===t.type},getAncestorNode:function(t,e){var i=function(t,e){for(var i,n=[].concat(e),s=-1;i=t.getParentNode(++s);)if(-1!==n.indexOf(i.kind))return s;return-1}(t,e);return-1===i?null:t.getParentNode(i)},getNextNode:function(t,e){var i=t.getParentNode(),n=$e(i);if(!n)return null;var s=n.indexOf(e);return-1===s?null:i.children[s+1]},normalizeMagicMethodName:function(t){var e=t.toLowerCase();return Xe[e]?Xe[e]:t}},qe=e.util,Ze=qe.addLeadingComment,ti=qe.addDanglingComment,ei=qe.addTrailingComment,ii=qe.getNextNonSpaceNonCommentCharacterIndex,ni=qe.isNextLineEmpty,si=qe.skipNewline,ri=qe.isPreviousLineEmpty,oi=qe.hasNewline,hi=qe.hasNewlineInRange,ai=e.doc.builders,li=ai.concat,ci=ai.join,ui=ai.indent,_i=ai.hardline,pi=ai.cursor,fi=ai.lineSuffix,di=ai.breakParent,Ti=Je.isLookupNode;function ki(t,e){var i=t.children;0===i.length?ti(t,e):Ze(i[0],e)}function Ei(t,e){"block"===t.kind?ki(t,e):Ze(t,e)}function xi(t,e,i,n,s,r){var o=ii(t,s,r),h=t.charAt(o);return e&&"identifier"===e.kind&&i&&("function"===i.kind||"method"===i.kind)&&")"===h?(ei(i,s),!0):!(!i||"function"!==i.kind&&"method"!==i.kind||!n||"block"!==n.kind)&&(ki(n,s),!0)}function mi(t,e,i,n,s,r){if(!i||"if"!==i.kind||!n)return!1;var o=ii(t,s,r);return")"===t.charAt(o)?(ei(e,s),!0):e===i.body&&n===i.alternate?(ti(i,s),!0):"if"===n.kind?(Ei(n.body,s),!0):i.body===n&&(Ze(n,s),!0)}function yi(t,e,i){if(t&&["class","interface","trait"].includes(t.kind)){if(e&&t.extends)if(Array.isArray(t.extends)){if(t.extends.some(function(t){if(e&&e===t)return ti(e,i),!0}))return!0}else if(e===t.extends)return ti(e,i),!0;if(e&&t.implements&&t.implements.some(function(t){if(e&&e===t)return ti(e,i),!0}))return!0;if(!(t.body&&t.body.length>0))return ti(t,i),!0}return!1}function Ai(t,e,i,n,s){if(e&&("function"===e.kind||"method"===e.kind)){for(var r=0,o=0;o<e.arguments.length;o++)r=s.locEnd(e.arguments[o])>r?s.locEnd(e.arguments[o]):r;var h=e.body&&s.locStart(n)>r&&s.locEnd(n)<s.locStart(e.body),a=ii(t,n,s);if(e.type&&h&&")"!==t.charAt(a))return s.locEnd(n)<s.locStart(e.type)?(ti(e.type,n),!0):(ei(e.type,n),!0)}return!1}function vi(t,e,i,n){if(!e||!["function","method","parameter"].includes(e.kind))return!1;var s=ii(t,i,n);return t.charAt(s)+t.charAt(s+1)==="= "&&(ti(e,i),!0)}function gi(t,e){return!(!t||!["label","goto"].includes(t.kind))&&(ei(t,e),!0)}function Ni(t,e,i,n){return i&&"inline"===i.kind?(i.leadingComments||(i.leadingComments=[]),i.leadingComments.includes(n)||i.leadingComments.push(n),!0):!(t||i||!e||"inline"!==e.kind)&&(ti(e,n),!0)}function Ci(t,e,i){return!(!t||"try"!==t.kind||!e)&&("block"===e.kind?(ki(e,i),!0):"try"===e.kind?(Ei(e.always,i),!0):"catch"===e.kind&&(Ei(e.body,i),!0))}function Li(t,e,i,n){return i||e||!t||"namespace"!==t.kind||t.withBrackets?!(e||!t||"namespace"!==t.kind||t.withBrackets)&&(ti(t,n),!0):(ei(t,n),!0)}function Si(t,e,i,n){return!(!t||"declare"!==t.kind)&&(i&&t.directives[0]!==i?!(!i||!e)&&(Ze(i,n),!0):("none"===t.mode?ei(t,n):ti(t,n),!0))}function Oi(t,e,i,n,s,r){if(!i||"while"!==i.kind||!n)return!1;var o=ii(t,s,r);return")"===t.charAt(o)?(ei(e,s),!0):"block"===n.kind&&(ki(n,s),!0)}function Ii(t,e){return t.getValue().printed=!0,e.printer.printComment(t,e)}function bi(t,e,i){return t.getNode()===e.cursorNode&&t.getValue()?li([pi,i,pi]):i}var Ri={handleOwnLineComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,r=t.followingNode;return xi(e,n,s,r,t,i)||function(t,e,i){return!!(t&&Ti(t)&&e&&["identifier","variable","encapsed"].includes(e.kind))&&(Ze(t,i),!0)}(s,r,t)||mi(e,n,s,r,t,i)||Oi(e,n,s,r,t,i)||Ci(s,r,t)||yi(s,r,t)||vi(e,s,t,i)||Ai(e,s,0,t,i)||function(t,e,i,n){return!(i||!t||"for"!==t.kind&&"foreach"!==t.kind)&&(t.body&&"block"!==t.body.kind?Ze(i,n):Ze(t,n),!0)}(s,0,r,t)||Ni(s,n,r,t)||Si(s,n,r,t)},handleEndOfLineComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,r=t.followingNode;return function(t,e,i,n,s){return!(e||n||!i||"array"!==i.kind)&&(ei(i,s),!0)}(0,n,s,r,t)||function(t,e,i,n,s){return!(!i||"return"!==i.kind||i.expr)&&(ei(i,s),!0)}(0,0,s,0,t)||xi(e,n,s,r,t,i)||function(t,e,i,n,s,r){var o=e&&!hi(s,r.locEnd(e),r.locStart(n));return!(e&&o||!t||"retif"!==t.kind||!i)&&(Ze(i,n),!0)}(s,n,r,t,e,i)||mi(e,n,s,r,t,i)||Oi(e,n,s,r,t,i)||Ci(s,r,t)||yi(s,r,t)||vi(e,s,t,i)||Ai(e,s,0,t,i)||function(t,e){return!(!t||"entry"!==t.kind)&&(Ze(t,e),!0)}(s,t)||function(t,e,i){return!!(e&&"call"===e.kind&&t&&e.what===t&&e.arguments.length>0)&&(Ze(e.arguments[0],i),!0)}(n,s,t)||function(t,e){return!(!t||"property"!==t.kind&&"classconstant"!==t.kind)&&(Ze(t,e),!0)}(s,t)||function(t,e,i){return!(!t||"assign"!==t.kind||!e||"array"!==e.kind&&"string"!==e.kind&&"encapsed"!==e.kind)&&(Ze(e,i),!0)}(s,r,t)||Ni(s,n,r,t)||Li(s,n,r,t)||Si(s,n,r,t)||gi(s,t)},handleRemainingComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,r=t.followingNode;return mi(e,n,s,r,t,i)||Oi(e,n,s,r,t,i)||function(t,e,i,n){var s=ii(t,i,n);return")"===t.charAt(s)&&(!(!e||"function"!==e.kind&&"closure"!==e.kind&&"method"!==e.kind&&"call"!==e.kind&&"new"!==e.kind||0!==e.arguments.length)&&(ti(e,i),!0))}(e,s,t,i)||yi(s,r,t)||function(t,e,i){return!(!t||"traituse"!==t.kind||!t.adaptations||t.adaptations.length)&&(ti(t,i),!0)}(s,0,t)||vi(e,s,t,i)||Ai(e,s,0,t,i)||gi(s,t)||function(t,e,i,n){return e&&"halt"===e.kind?(ti(e,n),!0):!(!t||"halt"!==t.kind)&&(ti(t,n),!0)}(n,s,0,t)||function(t,e){return!(!t||"continue"!==t.kind&&"break"!==t.kind||t.label)&&(ei(t,e),!0)}(s,t)||Ni(s,n,r,t)||Li(s,n,r,t)},getCommentChildNodes:function(t){return"object"!==i(t)?[]:function(t){return Object.keys(t).filter(function(t){return"kind"!==t&&"loc"!==t&&"errors"!==t&&"extra"!==t&&"comments"!==t&&"leadingComments"!==t&&"enclosingNode"!==t&&"precedingNode"!==t&&"followingNode"!==t}).map(function(e){return t[e]})}(t)},canAttachComment:function(t){return t.kind&&"commentblock"!==t.kind&&"commentline"!==t.kind},isBlockComment:function(t){return"commentblock"===t.kind},printDanglingComments:function(t,e,i,n){var s=[],r=t.getValue();return r&&r.comments?(t.each(function(t){var i=t.getValue();!i||i.leading||i.trailing||n&&!n(i)||s.push(Ii(t,e))},"comments"),0===s.length?"":i?ci(_i,s):ui(li([_i,ci(_i,s)]))):""},hasLeadingComment:function(t){return t.comments&&t.comments.some(function(t){return t.leading})},hasTrailingComment:function(t){return t.comments&&t.comments.some(function(t){return t.trailing})},hasLeadingOwnLineComment:function(t,e,i){return e.comments&&e.comments.some(function(e){return e.leading&&oi(t,i.locEnd(e))})},printComments:function(t,e){var i=[];return t.forEach(function(t,n,s){t.printed=!0,i.push(t.value),i.push(_i),ni(e.originalText,t,e)&&s.length>n+1&&i.push(_i)}),li(i)},printAllComments:function(t,e,i,n){var s=t.getValue(),r=e(t),o=s&&s.comments;if(!o||0===o.length)return bi(t,i,r);var h=[],a=[n?";":"",r];return t.each(function(t){var e=t.getValue(),n=e.leading,s=e.trailing;if(n){var r=function(t,e,i){var n=t.getValue(),s=Ii(t,i);if(!s)return"";var r=i.printer.isBlockComment&&i.printer.isBlockComment(n);return li(r?[s,oi(i.originalText,i.locEnd(n))?_i:" "]:[s,_i])}(t,0,i);if(!r)return;h.push(r);var o=i.originalText;oi(o,si(o,i.locEnd(e)))&&h.push(_i)}else s&&a.push(function(t,e,i){var n=t.getValue(),s=Ii(t,i);if(!s)return"";var r=i.printer.isBlockComment&&i.printer.isBlockComment(n);if(oi(i.originalText,i.locStart(n),{backwards:!0})){var o=ri(i.originalText,n,i);return fi(li([_i,o?_i:"",s]))}return li(r?[" ",s]:[fi(li([" ",s])),r?"":di])}(t,0,i))},"comments"),bi(t,i,li(h.concat(a)))}};function wi(){}wi.strictEqual=function(){};var Di=wi,Pi=Je.getPrecedence,Ui=Je.shouldFlatten,Bi=Je.isBitwiseOperator;var Mi=function(t){var e=t.getParentNode();if(!e)return!1;var i=t.getName(),n=t.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(e.kind))return!1;switch(n.kind){case"pre":case"post":if("unary"===e.kind)return"pre"===n.kind&&("+"===n.type&&"+"===e.type||"-"===n.type&&"-"===e.type);case"unary":switch(e.kind){case"unary":return n.type===e.type&&("+"===n.type||"-"===n.type);case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;case"bin":return"**"===e.type&&"left"===i;default:return!1}case"bin":switch(e.kind){case"assign":return["and","xor","or"].includes(n.type);case"silent":case"cast":return n.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"staticlookup":case"offsetlookup":return"what"===i&&e.what===n;case"bin":var s=e.type,r=Pi(s),o=n.type,h=Pi(o);return r>h||"||"===s&&"&&"===o||(r===h&&"right"===i?(Di.strictEqual(e.right,n),!0):r===h&&!Ui(s,o)||(r<h&&"%"===o?"+"===s||"-"===s:!!Bi(s)));default:return!1}case"propertylookup":case"staticlookup":switch(e.kind){case"call":return"what"===i&&e.what===n&&n.parenthesizedExpression;default:return!1}case"clone":case"new":switch(e.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;default:return!1}case"yield":switch(e.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;case"retif":return e.test===n;default:return!(!n.key&&!n.value)}case"assign":return("for"!==e.kind||!e.init.includes(n)&&!e.increment.includes(n))&&"assign"!==e.kind&&"static"!==e.kind&&!["if","do","while","foreach","switch"].includes(e.kind)&&"silent"!==e.kind&&"call"!==e.kind;case"retif":switch(e.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!("test"===i&&!e.trueExpr);case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;default:return!1}case"closure":return"call"===e.kind&&"what"===i&&e.what===n;case"silence":case"cast":return n.parenthesizedExpression;case"string":case"array":switch(e.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(n.kind)||"offsetlookup"!==e.kind)&&"what"===i&&e.what===n;default:return!1}case"print":case"include":return"bin"===e.kind}return!1},Fi=e.doc.builders,Hi=Fi.breakParent,Gi=Fi.concat,Vi=Fi.join,Wi=Fi.line,Qi=Fi.lineSuffix,Yi=Fi.group,$i=Fi.conditionalGroup,ji=Fi.indent,zi=Fi.dedent,Ki=Fi.ifBreak,Xi=Fi.hardline,Ji=Fi.softline,qi=Fi.literalline,Zi=Fi.align,tn=Fi.dedentToRoot,en=e.doc.utils.willBreak,nn=e.util,sn=nn.isNextLineEmpty,rn=nn.isNextLineEmptyAfterIndex,on=nn.getNextNonSpaceNonCommentCharacterIndex,hn=nn.hasNewline,an=nn.hasNewlineInRange,ln=Je.getLast,cn=Je.getPenultimate,un=Je.isLastStatement,_n=Je.lineShouldEndWithSemicolon,pn=Je.printNumber,fn=Je.shouldFlatten,dn=Je.maybeStripLeadingSlashFromUse,Tn=Je.fileShouldEndWithHardline,kn=Je.hasDanglingComments,En=Je.hasLeadingComment,xn=Je.hasTrailingComment,mn=Je.docShouldHaveTrailingNewline,yn=Je.isLookupNode,An=Je.isFirstChildrenInlineNode,vn=Je.shouldPrintHardLineAfterStartInControlStructure,gn=Je.shouldPrintHardLineBeforeEndInControlStructure,Nn=Je.getAlignment,Cn=Je.isProgramLikeNode,Ln=Je.getNodeKindIncludingLogical,Sn=Je.useSingleQuote,On=Je.hasEmptyBody,In=Je.isNextLineEmptyAfterNamespace,bn=Je.shouldPrintHardlineBeforeTrailingComma,Rn=Je.isDocNode,wn=Je.getAncestorNode,Dn=Je.isReferenceLikeNode,Pn=Je.getNextNode,Un=Je.normalizeMagicMethodName;function Bn(t,e){switch(e=e||"none",t.trailingCommaPHP){case"all":if("all"===e)return!0;case"php7.2":if("php7.2"===e)return!0;case"php5":if("php5"===e)return!0;case"none":return!1;default:return"all"===t.trailingComma}}function Mn(t){switch(t.braceStyle){case"1tbs":return!1;case"psr-2":default:return!0}}function Fn(t,e,i){var n=t.getValue(),s=!0;return("variable"===n.offset.kind||"identifier"===n.offset.kind||"encapsed"===n.offset.kind&&"offset"===n.offset.type)&&(s=!1),Gi(["->",s?"{":"",t.call(i,"offset"),s?"}":""])}function Hn(t,e,i){var n=t.getValue(),s=!["variable","identifier"].includes(n.offset.kind);return Gi(["::",s?"{":"",t.call(i,"offset"),s?"}":""])}function Gn(t,e,i){var n=t.getValue(),s=n.offset&&"number"===n.offset.kind||wn(t,"encapsed");return Gi(["[",n.offset?Yi(Gi([ji(Gi([s?"":Ji,t.call(i,"offset")])),s?"":Ji])):"","]"])}function Vn(t){return"array"===t.kind&&(t.items.length>0||t.comments)||"function"===t.kind||"method"===t.kind||"closure"===t.kind}function Wn(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"arguments",r=t.getValue()[s];if(0===r.length)return Gi(["(",Ri.printDanglingComments(t,e,!0),")"]);var o=!1,h=!1,a=r.length-1,l=t.map(function(t,n){var s=t.getNode(),r=[i(t)];return n===a||(sn(e.originalText,s,e)?(0===n&&(h=!0),o=!0,r.push(",",Xi,Xi)):r.push(",",Wi)),Gi(r)},s),c=function(t){if(2!==t.length)return!1;var e=n(t,2),i=e[0],s=e[1];return!(i.comments&&i.comments.length||"function"!==i.kind&&"method"!==i.kind&&"closure"!==i.kind||"retif"===s.kind||Vn(s))}(r),u=function(t){var e=ln(t),i=cn(t);return!En(e)&&!xn(e)&&Vn(e)&&(!i||i.kind!==e.kind)}(r);if(c||u){var _,p=(c?l.slice(1).some(en):l.slice(0,-1).some(en))||o,f=0;t.each(function(t){c&&0===f&&(_=[Gi([t.call(function(t){return i(t,{expandFirstArg:!0})}),l.length>1?",":"",h?Xi:Wi,h?Xi:""])].concat(l.slice(1))),u&&f===r.length-1&&(_=l.slice(0,-1).concat(t.call(function(t){return i(t,{expandLastArg:!0})}))),f++},s);var d=l.some(en);return Gi([d?Hi:"",$i([Gi([Ki(ji(Gi(["(",Ji,Gi(_)])),Gi(["(",Gi(_)])),d?Ji:"",")"]),Gi(c?["(",Yi(_[0],{shouldBreak:!0}),Gi(_.slice(1)),")"]:["(",Gi(l.slice(0,-1)),Yi(ln(_),{shouldBreak:!0}),")"]),Yi(Gi(["(",ji(Gi([Wi,Gi(l)])),Wi,")"]),{shouldBreak:!0})],{shouldBreak:p})])}return Yi(Gi(["(",ji(Gi([Ji,Gi(l)])),Ji,")"]),{shouldBreak:l.some(en)||o})}function Qn(t){return"array"===t.kind&&0!==t.items.length}function Yn(t){return"array"===t.right.kind&&0!==t.right.items.length}function $n(t,e,i){var n=t.getValue();switch(n.kind){case"propertylookup":return Fn(t,0,i);case"staticlookup":return Hn(t,0,i);case"offsetlookup":return Gn(t,0,i);default:return"Have not implemented lookup kind ".concat(n.kind," yet.")}}function jn(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).opening,i=void 0===e||e;if("heredoc"===t.type)return i?"<<<".concat(t.label):t.label;var n={string:'"',shell:"`"};return n[t.type]?n[t.type]:"Unimplemented encapsed type ".concat(t.type)}function zn(t,e,i){var n=[],s=[];return t.each(function(t){n.push(Gi(s)),n.push(Yi(i(t))),s=[",",Wi],t.getValue()&&sn(e.originalText,t.getValue(),e)&&s.push(Ji)},"items"),Gi(n)}function Kn(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children",r=t.getValue(),o=t.getParentNode(),h=-1,a=[],l=[];t.map(function(n,c){var u=n.getValue(),_="inline"===u.kind,p=i(n),f=r[s],d=f[c+1],T=!un(n)&&!_&&(d&&"case"===d.kind?!An(t):d&&"inline"!==d.kind),k=Gi([p,T?Xi:"",T&&sn(e.originalText,u,e)?Xi:""]),E=0===c,x=f.length-1===c,m="block"===r.kind&&o&&["function","closure","method","try","catch"].includes(o.kind),y=m&&E?"":" ";if(_||!_&&x&&h>=0){var A=h;if(_&&(h=c),_&&!E||!_&&x){var v=(_?A:h)+1,g=x&&!_?c+1:c,N=f[_?A:h],C=N?Nn(N.raw):"",L=g-v>1,S=L?m&&!N||Cn(r)&&0===v?"":Xi:"",O=L&&"halt"!==u.kind?m&&x?"":Xi:"";L&&(y=""),l.push({start:v,end:g,alignment:C,before:S,after:O})}}if(_){var I=d&&"echo"===d.kind&&d.shortForm?"<?=":"<?php",b=u.leadingComments&&u.leadingComments.length?Gi([E?I:"",Xi,Ri.printComments(u.leadingComments,e),"?>"]):Cn(r)&&E?"":Gi([y,"?>"]),R=u.comments&&u.comments.length?Gi([I,Xi,Ri.printComments(u.comments,e),"?>"]):Cn(r)&&x?"":Gi([I," "]);k=Gi([b,k,R])}a.push(k)},s);var c=function(t,e){if(0===e.length)return t;var i=0;return e.reduce(function(e,n){var s=n.start,r=n.end,o=n.alignment,h=n.before,a=n.after,l=Gi([h||"",Gi(t.slice(s,r)),a||""]),c=e.concat(t.slice(i,s),o?tn(Yi(Gi([Zi(new Array(o).join(" "),l)]))):Yi(l),r===t.length-1?t.slice(r):"");return i=r,c},[])}(a,l);if("program"===r.kind&&!r.extra.parseAsEval){var u=[],_=n(r.children,1)[0];if(!_||"inline"!==_.kind){var p=e.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),f=Gi([p&&p[2].includes("\n")?Gi([Xi,p[2].split("\n").length>2?Xi:""]):" ",r.comments?Ri.printComments(r.comments,e):""]);u.push(Gi(["<?php",f]))}if(u.push(Gi(c)),e.originalText.trim().endsWith("?>")){var d=ln(r.children),T=d?Gi([an(e.originalText,e.locEnd(d),e.locEnd(r))?Xi:" ",sn(e.originalText,d,e)?Xi:""]):"";u.push(Qi(Gi([T,"?>"])))}return Gi(u)}return Gi(c)}function Xn(t,e,i,n){return Gi(t.map(function(t){var n=[];return n.push(i(t)),un(t)||(n.push(Xi),sn(e.originalText,t.getValue(),e)&&n.push(Xi)),Gi(n)},n))}function Jn(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"extends",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:" ",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ",o=t.getValue(),h=kn(o[n])?Gi([Xi,t.call(function(t){return Ri.printDanglingComments(t,e,!0)},n),Xi]):s,a=Array.isArray(o[n])?Yi(Gi([Vi(",",t.map(function(t){var n=i(t);return kn(t.getValue())?Gi([Xi,Ri.printDanglingComments(t,e,!0),Xi,n]):Gi([r,n])},n))])):Gi([r,t.call(i,n)]);return ji(Gi([h,n,en(h)?ji(a):a]))}function qn(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",s=t.getValue();if(!s[n])return";";var r=t.call(i,n);return Gi([s.shortForm?":":" {",ji(Gi(["block"!==s[n].kind||s[n].children&&s[n].children.length>0||s[n].comments&&s[n].comments.length>0?Gi([vn(t)?"switch"===s.kind?" ":"":Xi,r]):""])),"if"===s.kind&&"body"===n?"":Gi([gn(t)?Xi:"",s.shortForm?Gi(["end",s.kind,";"]):"}"])])}function Zn(t,e,i,n,s,r){if(!n)return e;var o=ts(t,n,s,r);return Yi(Gi([e,i,o]))}function ts(t,e,i,n){if(Ri.hasLeadingOwnLineComment(n.originalText,e,n))return ji(Gi([Xi,i]));var s="cast"===e.kind?e.what:e;return"bin"===s.kind&&!Yn(s)||"retif"===s.kind&&(!s.trueExpr&&!Qn(s.falseExpr)||"bin"===s.test.kind&&!Yn(s.test))||("variable"===t.kind||"string"===t.kind||yn(t))&&("string"===s.kind&&!es(s)||function t(e){return!!yn(e)&&(!("variable"!==e.what.kind&&!Dn(e.what))||t(e.what))}(s))?Yi(ji(Gi([Wi,i]))):Gi([" ",i])}function es(t){return t.raw.includes("\n")}function is(t,e,i){return("string"===t.kind||"encapsed"===t.kind&&("string"===t.type||"shell"===t.type))&&es(t)&&!hn(e,i.locStart(t),{backwards:!0})}var ns=function(t,e,i){var r=t.getValue();if(!r)return"";if("string"==typeof r)return r;var o=function(t,e,i){var r=t.getValue();switch(r.kind){case"program":return Yi(Gi([Kn(t,e,i),Ri.printDanglingComments(t,e,!0,function(t){return!t.printed})]));case"expressionstatement":return t.call(i,"expression");case"block":return Gi([Kn(t,e,i),Ri.printDanglingComments(t,e,!0)]);case"declare":var o=function(t){return Vi(", ",t.map(function(t){return Gi([i(t)])},"directives"))};if(["block","short"].includes(r.mode))return Gi(["declare(",o(t),")","block"===r.mode?" {":":",r.children.length>0?ji(Gi([Xi,Kn(t,e,i)])):"",Ri.printDanglingComments(t,e),Xi,"block"===r.mode?"}":"enddeclare;"]);var h=Pn(t,r);return Gi(["declare(",o(t),")",h&&"inline"===h.kind?"":";"]);case"declaredirective":return Gi([t.call(i,"key"),"=",t.call(i,"value")]);case"namespace":return Gi(["namespace ",r.name&&"string"==typeof r.name?Gi([r.name,r.withBrackets?" ":""]):"",r.withBrackets?"{":";",kn(r)?Gi([" ",Ri.printDanglingComments(t,e,!0)]):"",r.children.length>0?r.withBrackets?ji(Gi([Xi,Kn(t,e,i)])):Gi([Xi,In(e.originalText,r,e.locStart)?Xi:"",Kn(t,e,i)]):"",r.withBrackets?Gi([Xi,"}"]):""]);case"usegroup":return Yi(Gi(["use ",r.type?Gi([r.type," "]):"",ji(Gi([r.name?Gi([dn(r.name),"\\{",Ji]):"",Vi(Gi([",",Wi]),t.map(function(t){return Gi([i(t)])},"items"))])),r.name?Gi([Ki(Bn(e,"php7.2")?",":""),Ji,"}"]):""]));case"useitem":return Gi([r.type?Gi([r.type," "]):"",dn(r.name),kn(r)?Gi([" ",Ri.printDanglingComments(t,e,!0)]):"",r.alias?Gi([" as ",r.alias]):""]);case"class":case"interface":case"trait":return function(t,e,i){var n=t.getValue(),s=[];n.isFinal&&s.push("final "),n.isAbstract&&s.push("abstract ");var r="class"===n.kind&&n.isAnonymous;s.push(r?"":n.kind),n.name&&s.push(" ",t.call(i,"name")),n.extends&&n.implements?s.push($i([Gi([Jn(t,e,i,"extends"),Jn(t,e,i,"implements")]),Gi([Jn(t,e,i,"extends"),Jn(t,e,i,"implements"," ",Xi)]),Gi([Jn(t,e,i,"extends",Xi," "),Jn(t,e,i,"implements",Xi,n.implements.length>1?Xi:" ")])],{shouldBreak:kn(n.extends)})):(n.extends&&s.push($i([Jn(t,e,i,"extends"),Jn(t,e,i,"extends"," ",Xi),Jn(t,e,i,"extends",Xi,n.extends.length>1?Xi:" ")])),n.implements&&s.push($i([Jn(t,e,i,"implements"),Jn(t,e,i,"implements"," ",Xi),Jn(t,e,i,"implements",Xi,n.implements.length>1?Xi:" ")])));var o=Yi(Gi([Yi(Gi(s)),Mn(e)?r?Wi:Xi:" "])),h=n.body&&0===n.body.length&&!kn(n),a=Gi(["{",ji(Gi([h?"":Xi,Xn(t,e,i,"body")])),Ri.printDanglingComments(t,e,!0),r&&h?Ji:Xi,"}"]);return Gi([o,a])}(t,e,i);case"traitprecedence":return Gi([t.call(i,"trait"),"::",r.method," insteadof ",Vi(", ",t.map(i,"instead"))]);case"traitalias":return Gi([r.trait?Gi([t.call(i,"trait"),"::"]):"",r.method||""," as ",Vi(" ",[].concat(s(r.visibility?[r.visibility]:[]),s(r.as?[r.as]:[])))]);case"traituse":return Yi(Gi(["use ",ji(Yi(Vi(Gi([",",Wi]),t.map(i,"traits")))),r.adaptations?Gi([" {",r.adaptations.length>0?Gi([ji(Gi([Xi,Xn(t,e,i,"adaptations")])),Xi]):kn(r)?Gi([Wi,Ri.printDanglingComments(t,e,!0),Wi]):"","}"]):""]));case"function":case"closure":case"method":return function(t,e,i){var n=t.getValue(),s=[];n.isFinal&&s.push("final "),n.isAbstract&&s.push("abstract "),n.visibility&&s.push(n.visibility," "),n.isStatic&&s.push("static "),s.push("function "),n.byref&&s.push("&"),n.name&&s.push(t.call(i,"name")),s.push(Wn(t,e,i)),n.uses&&n.uses.length>0&&s.push(Yi(Gi([" use ",Wn(t,e,i,"uses")]))),n.type&&s.push(Gi([": ",kn(n.type)?Gi([t.call(function(t){return Ri.printDanglingComments(t,e,!0)},"type")," "]):"",n.nullable?"?":"",t.call(i,"type")]));var r=Gi(s);if(!n.body)return r;var o="closure"===n.kind,h=Gi(["{",ji(Gi([On(t)?"":Xi,t.call(i,"body")])),o&&On(t)?"":Xi,"}"]);return o?Gi([r," ",h]):0===n.arguments.length?Gi([r,Mn(e)?Xi:" ",h]):s.some(en)?Gi([r," ",h]):$i([Gi([r,Mn(e)?Xi:" ",h]),Gi([r," ",h])])}(t,e,i);case"parameter":var a=Gi([r.nullable?"?":"",r.type?Gi([t.call(i,"type")," "]):"",r.byref?"&":"",r.variadic?"...":"","$",r.name]);return r.value?Yi(Gi([a,kn(r)?" ":"",Ri.printDanglingComments(t,e,!0),Gi([" =",ts(r.name,r.value,t.call(i,"value"),e)])])):a;case"variadic":return Gi(["...",t.call(i,"what")]);case"property":return Yi(Gi([r.visibility||null===r.visibility?Gi([null===r.visibility?"var":r.visibility," "]):"",r.isStatic?"static ":"","property"===r.kind?"$":"const ",r.name,r.value?Gi([" =",ts(r.name,r.value,t.call(i,"value"),e)]):""]));case"if":var l=[],c=qn(t,e,i,"body"),u=Yi(Gi(["if (",Yi(Gi([ji(Gi([Ji,t.call(i,"test")])),Ji])),")",c]));if(l.push(u,An(t)||!r.body?"":Xi),r.alternate){l.push(r.shortForm?"":"} ");var _=xn(r.body)&&r.body.comments.some(function(t){return t.trailing&&!Ri.isBlockComment(t)})||function(t){if(!t.comments)return!1;var e=ln(t.comments.filter(function(t){return!t.leading&&!t.trailing}));return e&&!Ri.isBlockComment(e)}(r),p=!_;l.push(p?"":Xi),kn(r)&&l.push(sn(e.originalText,r.body,e)?Xi:"",Ri.printDanglingComments(t,e,!0),_?Xi:" "),l.push("else",Yi("if"===r.alternate.kind?t.call(i,"alternate"):qn(t,e,i,"alternate")))}else l.push(r.body?r.shortForm?"endif;":"}":"");return Gi(l);case"do":return Gi(["do",qn(t,e,i,"body")," while (",Yi(Gi([ji(Gi([Ji,t.call(i,"test")])),Ji])),")"]);case"while":return Yi(Gi(["while (",Yi(Gi([ji(Gi([Ji,t.call(i,"test")])),Ji])),")",qn(t,e,i,"body")]));case"for":var f=qn(t,e,i,"body"),d=Ri.printDanglingComments(t,e,!0),T=d?Gi([d,Ji]):"";return r.init.length||r.test.length||r.increment.length?Gi([T,Yi(Gi(["for (",Yi(Gi([ji(Gi([Ji,Yi(Gi([Vi(Gi([",",Wi]),t.map(i,"init"))])),";",Wi,Yi(Gi([Vi(Gi([",",Wi]),t.map(i,"test"))])),";",Wi,Yi(Vi(Gi([",",Wi]),t.map(i,"increment")))])),Ji])),")",f]))]):Gi([T,Yi(Gi(["for (;;)",f]))]);case"foreach":var k=qn(t,e,i,"body"),E=Ri.printDanglingComments(t,e,!0),x=E?Gi([E,Ji]):"";return Gi([x,Yi(Gi(["foreach (",Yi(Gi([ji(Gi([Ji,t.call(i,"source"),Wi,"as ",Yi(r.key?ji(Vi(Gi([" =>",Wi]),[t.call(i,"key"),t.call(i,"value")])):t.call(i,"value"))])),Ji])),")",k]))]);case"try":var m=[];return m.push("try",qn(t,e,i,"body")),r.catches&&m.push(Gi(t.map(i,"catches"))),r.always&&m.push(" finally",qn(t,e,i,"always")),Gi(m);case"catch":return Gi([" catch",r.what?Gi([" (",Vi(" | ",t.map(i,"what"))," ",t.call(i,"variable"),")"]):"",qn(t,e,i,"body")]);case"switch":return Gi([Yi(Gi(["switch (",ji(Gi([Ji,t.call(i,"test")])),Ji,")"])),qn(t,e,i,"body")]);case"case":return Gi([r.test?Gi(["case ",r.test.comments?ji(t.call(i,"test")):t.call(i,"test"),":"]):"default:",r.body?r.body.children&&r.body.children.length?ji(Gi([An(t)?"":Xi,t.call(i,"body")])):";":""]);case"break":case"continue":return r.level&&"number"===r.level.kind&&"1"!==r.level.value?Gi(["".concat(r.kind," "),t.call(i,"level")]):r.kind;case"call":return 1===r.arguments.length&&is(r.arguments[0],e.originalText,e)?Gi([t.call(i,"what"),Gi(["(",Vi(", ",t.map(i,"arguments")),")"])]):yn(r.what)?function(t,e,i){var n=[];function s(t){var i=e.originalText,n=on(i,t,e),s=i.charAt(n);return")"===s?rn(i,n+1,e):sn(i,t,e)}var r=t.getValue();n.unshift({node:r,printed:Wn(t,e,i)}),t.call(function(t){return function t(r){var o=r.getValue();if("call"!==o.kind||!yn(o.what)&&"call"!==o.what.kind)if(yn(o)){var h=null;h="propertylookup"===o.kind?Fn(r,0,i):"staticlookup"===o.kind?Hn(r,0,i):Gn(r,0,i),n.unshift({node:o,needsParens:Mi(r,e),printed:Ri.printAllComments(r,function(){return h},e)}),r.call(function(e){return t(e)},"what")}else n.unshift({node:o,printed:r.call(i)});else n.unshift({node:o,printed:Gi([Ri.printAllComments(r,function(){return Gi([Wn(r,e,i)])},e),s(o)?Xi:""])}),r.call(function(e){return t(e)},"what")}(t)},"what");for(var o=0;o<n.length;++o)"call"===n[o].node.kind&&n[o-1]&&["propertylookup","staticlookup"].includes(n[o-1].node.kind)&&n[o-1].needsParens&&(n[0].printed=Gi(["(",n[0].printed]),n[o-1].printed=Gi([n[o-1].printed,")"]));for(var h=[],a=[n[0]],l=1;l<n.length&&("call"===n[l].node.kind||yn(n[l].node)&&n[l].node.offset&&"number"===n[l].node.offset.kind);++l)a.push(n[l]);if("call"!==n[0].node.kind)for(;l+1<n.length&&yn(n[l].node)&&yn(n[l+1].node);++l)a.push(n[l]);h.push(a),a=[];for(var c=!1;l<n.length;++l){if(c&&yn(n[l].node)){if("offsetlookup"===n[l].node.kind&&n[l].node.offset&&"number"===n[l].node.offset.kind){a.push(n[l]);continue}h.push(a),a=[],c=!1}"call"===n[l].node.kind&&(c=!0),a.push(n[l]),n[l].node.comments&&Ri.hasTrailingComment(n[l].node)&&(h.push(a),a=[],c=!1)}a.length>0&&h.push(a);var u=h.length>=2&&!h[1][0].node.comments&&function(t){var e=t[1].length&&"offsetlookup"===t[1][0].node.kind;if(1===t[0].length){var i=t[0][0].node;return"variable"===i.kind&&"this"===i.name||Dn(i)}var n=ln(t[0]).node;return yn(n)&&("identifier"===n.offset.kind||"variable"===n.offset.kind)&&e}(h);function _(t){for(var e=[],i=0;i<t.length;i++)t[i+1]&&t[i+1].needsParens?(e.push("(",t[i].printed,t[i+1].printed,")"),i++):e.push(t[i].printed);return Gi(e)}var p=h.map(_),f=Gi(p),d=u?3:2,T=h.slice(0,d).reduce(function(t,e){return t.concat(e)},[]),k=T.slice(1,-1).some(function(t){return Ri.hasLeadingComment(t.node)})||T.slice(0,-1).some(function(t){return Ri.hasTrailingComment(t.node)})||h[d]&&Ri.hasLeadingComment(h[d][0].node),E=wn(t,"encapsed");if(h.length<=d&&!k||E)return Yi(f);var x=ln(u?h.slice(1,2)[0]:h[0]).node,m="call"!==x.kind&&s(x),y=Gi([_(h[0]),u?Gi(h.slice(1,2).map(_)):"",m?Xi:"",function(t){return 0===t.length?"":ji(Yi(Gi([Xi,Vi(Xi,t.map(_))])))}(h.slice(u?2:1))]),A=n.filter(function(t){return"call"===t.node.kind}).length;return k||A>=3||p.slice(0,-1).some(en)?Yi(y):Gi([en(f)||m?Hi:"",$i([f,y])])}(t,e,i):Gi([t.call(i,"what"),Wn(t,e,i)]);case"new":var y=r.what&&"class"===r.what.kind&&r.what.isAnonymous;if(!y&&1===r.arguments.length&&is(r.arguments[0],e.originalText,e))return Gi(["new ",t.call(i,"what"),"(",Vi(", ",t.map(i,"arguments")),")"]);var A=[];if(A.push("new "),y)A.push("class",r.arguments.length>0?Wn(t,e,i):"",Yi(t.call(i,"what")));else{var v=Gi([t.call(i,"what"),Wn(t,e,i)]);A.push(En(r.what)?ji(v):v)}return Gi(A);case"clone":return Gi(["clone ",r.what.comments?ji(t.call(i,"what")):t.call(i,"what")]);case"propertylookup":case"staticlookup":case"offsetlookup":var g,N=t.getParentNode(),C=0;do{g=t.getParentNode(C),C++}while(g&&yn(g));var L=wn(t,"encapsed"),S=L||g&&("new"===g.kind||"assign"===g.kind&&"variable"!==g.left.kind)||"offsetlookup"===r.kind||(Dn(r.what)||"variable"===r.what.kind)&&["identifier","variable","literal","encapsed"].includes(r.offset.kind)&&N&&!yn(N);return Gi([t.call(i,"what"),S?$n(t,0,i):Yi(ji(Gi([Ji,$n(t,0,i)])))]);case"exit":return Yi(Gi([r.useDie?"die":"exit","(",r.status?is(r.status,e.originalText,e)?t.call(i,"status"):Gi([ji(Gi([Ji,t.call(i,"status")])),Ji]):Ri.printDanglingComments(t,e),")"]));case"global":return Yi(Gi(["global ",ji(Gi([Vi(Gi([",",Wi]),t.map(i,"items"))]))]));case"include":return Gi([r.require?"require":"include",r.once?"_once":""," ",r.target.comments?ji(t.call(i,"target")):t.call(i,"target")]);case"label":return Gi([r.name,":"]);case"goto":return Gi(["goto ",r.label]);case"throw":return Gi(["throw ",r.what.comments?ji(t.call(i,"what")):t.call(i,"what")]);case"silent":return Gi(["@",t.call(i,"expr")]);case"halt":return Gi([kn(r)?Gi([Ri.printDanglingComments(t,e,!0),Xi]):"","__halt_compiler();",r.after]);case"eval":return Yi(Gi(["eval(",is(r.source,e.originalText,e)?t.call(i,"source"):Gi([ji(Gi([Ji,t.call(i,"source")])),Ji]),")"]));case"echo":var O,I=t.map(function(t){return i(t)},"expressions");if(1!==I.length||r.expressions[0].comments)I.length>0&&(O=Rn(r.expressions[0])||r.expressions[0].comments?ji(I[0]):zi(I[0]));else{var b=n(I,1);O=b[0]}return Yi(Gi([r.shortForm?"":"echo ",O||"",ji(Gi(I.slice(1).map(function(t){return Gi([",",Wi,t])})))]));case"print":return Gi(["print ",r.expression.comments?ji(t.call(i,"expression")):t.call(i,"expression")]);case"return":var R=[];if(R.push("return"),r.expr){var w=t.call(i,"expr");R.push(" ",r.expr.comments?ji(w):w)}return kn(r)&&R.push(" ",Ri.printDanglingComments(t,e,!0)),Gi(R);case"isset":case"unset":return Yi(Gi([r.kind,Wn(t,e,i,"variables")]));case"empty":return Yi(Gi(["empty(",ji(Gi([Ji,t.call(i,"expression")])),Ji,")"]));case"variable":return Gi([r.byref?"&":"","$",r.curly?"{":"",t.call(i,"name"),r.curly?"}":""]);case"constantstatement":case"classconstant":var D,P=t.map(function(t){return i(t)},"items");if(1!==P.length||r.items[0].comments)P.length>0&&(D=ji(P[0]));else{var U=n(P,1);D=U[0]}return Yi(Gi([r.visibility?Gi([r.visibility," "]):"","const",D?Gi([" ",D]):"",ji(Gi(P.slice(1).map(function(t){return Gi([",",Xi,t])})))]));case"constant":return Zn(r.name,t.call(i,"name")," =",r.value,t.call(i,"value"),e);case"static":var B,M=t.map(function(t){return i(t)},"variables"),F=r.variables.some(function(t){return t.defaultValue});if(1!==M.length||r.variables[0].comments)M.length>0&&(B=ji(M[0]));else{var H=n(M,1);B=H[0]}return Yi(Gi(["static",B?Gi([" ",B]):"",ji(Gi(M.slice(1).map(function(t){return Gi([",",F?Xi:Wi,t])})))]));case"staticvariable":return Zn(r.variable,t.call(i,"variable")," =",r.defaultValue,t.call(i,"defaultValue"),e);case"list":case"array":var G=r.shortForm?"[":Gi([r.kind,"("]),V=r.shortForm?"]":")";if(0===r.items.length)return kn(r)?Yi(Gi([G,Ri.printDanglingComments(t,e),Ji,V])):Gi([G,V]);null===ln(r.items)&&r.items.pop();var W=ln(r.items),Q=null===W,Y=r.items.filter(function(t){return null!==t}).sort(function(t,i){return e.locStart(t)-e.locStart(i)}),$=n(Y,1),j=$[0],z=!(!j||!j.key),K=z&&j&&an(e.originalText,e.locStart(r),e.locStart(j));return Yi(Gi([G,ji(Gi([Ji,zn(t,e,i)])),Q?",":"",Ki(!Q&&Bn(e,"php5")?Gi([W&&bn(W)?Xi:"",","]):""),Ri.printDanglingComments(t,e,!0),Ji,V]),{shouldBreak:K});case"entry":return Zn(r.key,t.call(i,"key")," =>",r.value,t.call(i,"value"),e);case"yield":var X=Gi([r.key?Gi([t.call(i,"key")," => "]):"",t.call(i,"value")]);return Gi(["yield",r.key||r.value?" ":"",r.value&&r.value.comments?ji(X):X]);case"yieldfrom":return Gi(["yield from ",r.value.comments?ji(t.call(i,"value")):t.call(i,"value")]);case"unary":return Gi([r.type,t.call(i,"what")]);case"pre":return Gi([r.type+r.type,t.call(i,"what")]);case"post":return Gi([t.call(i,"what"),r.type+r.type]);case"cast":return Gi(["(",r.type,") ",r.what.comments?ji(t.call(i,"what")):t.call(i,"what")]);case"assign":return Zn(r.left,t.call(i,"left"),Gi([" ",r.operator]),r.right,t.call(i,"right"),e);case"bin":var J=t.getParentNode(),q=t.getParentNode(1),Z=r!==J.body&&("if"===J.kind||"while"===J.kind||"do"===J.kind),tt=function t(e,i,n,s,r){var o=[],h=e.getValue();if("bin"===h.kind){fn(h.type,h.left.type)?o=o.concat(e.call(function(e){return t(e,i,n,!0,r)},"left")):o.push(e.call(i,"left"));var a=Yn(h),l=Gi(a?[h.type," ",e.call(i,"right")]:[h.type,Wi,e.call(i,"right")]),c=e.getParentNode(),u=!(r&&["||","&&"].includes(h.type))&&Ln(c)!==Ln(h)&&Ln(h.left)!==Ln(h)&&Ln(h.right)!==Ln(h),_=Rn(h.left)||"bin"===h.left.kind&&Rn(h.left.right);o.push(_?"":" ",u?Yi(l):l)}else o.push(e.call(i));return o}(t,i,e,0,Z);if(Z)return Gi(tt);if("unary"===J.kind||yn(J)&&"offsetlookup"!==J.kind)return Yi(Gi([ji(Gi([Ji,Gi(tt)])),Ji]));var et=r!==J.body&&"for"===J.kind||"retif"===J.kind&&q&&"return"!==q.kind,it=["assign","property","constant","staticvariable","entry"].includes(J.kind),nt="bin"===r.left.kind&&fn(r.type,r.left.type);if(et||Yn(r)&&!nt||!Yn(r)&&it)return Yi(Gi(tt));var st=Gi(tt.slice(1));return Yi(Gi([tt.length>0?tt[0]:"",ji(st)]));case"retif":var rt,ot=[],ht=t.getParentNode(),at=0;do{rt=t.getParentNode(at),at++}while(rt&&"retif"===rt.kind);var lt=rt||ht,ct="bin"===r.falseExpr.kind?ji(t.call(i,"falseExpr")):t.call(i,"falseExpr"),ut=Gi([r.trueExpr?Wi:" ","?",r.trueExpr?Gi([" ","bin"===r.trueExpr.kind?ji(t.call(i,"trueExpr")):t.call(i,"trueExpr"),Wi]):"",":",r.trueExpr?Gi([" ",ct]):Gi([Qn(r.falseExpr)?" ":Wi,ct])]);ot.push(ut);var _t=function(t){return ht===lt?Yi(t):t},pt=t.getParentNode(1),ft="cast"===ht.kind&&pt?pt:ht,dt=["propertylookup","staticlookup"].includes(ft.kind),Tt=t.call(i,"test");if(!r.trueExpr){var kt=Gi([Tt,"bin"===ft.kind||["print","echo","return","include"].includes(lt.kind)?ji(Gi(ot)):Gi(ot)]);return"call"===ft.kind&&ft.what===r||"unary"===ft.kind||yn(ft)&&"offsetlookup"!==ft.kind?Yi(Gi([ji(Gi([Ji,kt])),Ji])):_t(kt)}return _t(Gi(["retif"===r.test.kind?ji(Tt):Tt,ji(Gi(ot)),dt?Ji:""]));case"boolean":return r.value?"true":"false";case"number":return pn(r.value);case"string":var Et=t.getParentNode();if("encapsedpart"===Et.kind)return Vi(qi,r.raw.split(/\r?\n/g));var xt=Sn(r,e)?"'":'"',mt=r.raw;return"b"===r.raw[0]&&(mt=mt.slice(1)),['"',"'"].includes(mt[0])&&(mt=mt.substr(1)),['"',"'"].includes(mt[mt.length-1])&&(mt=mt.substr(0,mt.length-1)),Gi(["b"===r.raw[0]?"b":"",xt,Vi(qi,mt.split(/\r?\n/g)),xt]);case"encapsedpart":return Gi([r.curly?"{":"",t.call(i,"expression"),r.curly?"}":""]);case"encapsed":switch(r.type){case"string":case"shell":case"heredoc":return Gi([jn(r),"heredoc"===r.type?qi:"",Gi(t.map(i,"value")),jn(r,{opening:!1}),"heredoc"===r.type&&mn(t)?Xi:""]);case"offset":return Yi(Gi(t.map(function(t){var e=t.getValue(),n=i(t);return"identifier"!==e.kind?Gi(["{",ji(Gi([Ji,n])),Ji,"}"]):n},"value")));default:return"Have not implemented kind ".concat(r.type," yet.")}case"inline":return Vi(qi,r.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return r.value;case"nowdoc":return Gi(["<<<'",r.label,"'",qi,Vi(qi,r.value.split(/\r?\n/g)),qi,r.label,mn(t)?Xi:""]);case"classreference":var yt=t.getParentNode();return"call"!==yt.kind&&"null"===r.name.toLowerCase()?r.name.toLowerCase():Gi(["rn"===r.resolution?"namespace\\":"",r.name]);case"literal":return t.call(i,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return r.name;case"identifier":var At=t.getParentNode();return"method"===At.kind&&(r.name=Un(r.name)),t.call(i,"name");case"error":default:return"Have not implemented kind ".concat(r.kind," yet.")}}(t,e,i),h=[],a=Mi(t,e);return a&&h.unshift("("),h.push(o),a&&h.push(")"),_n(t)&&h.push(";"),Tn(t)&&h.push(Xi),Gi(h)};var ss=function(t,e){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach(function(t){delete e[t]}),"string"===t.kind&&delete e.isDoubleQuote,"inline"===t.kind){if(t.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;e.value=e.value.replace(/\r\n?|\n/g,"")}if(("continue"===t.kind||"break"===t.kind)&&t.level){var i=e.level;"number"===i.kind&&(e.level="1"===i.value?null:i)}if("block"===t.kind&&1===t.children.length&&"block"===t.children[0].kind)for(;"block"===e.children[0].kind;)e.children=e.children[0].children;"number"===t.kind&&(e.value=Je.printNumber(t.value)),["foreach","for","if","while","do"].includes(t.kind)&&(t.body&&"block"!==t.body.kind?e.body={kind:"block",children:[e.body]}:e.body=e.body?e.body:null,t.alternate&&"block"!==t.alternate.kind?e.alternate={kind:"block",children:[e.alternate]}:e.alternate=e.alternate?e.alternate:null),"usegroup"===t.kind&&"string"==typeof t.name&&(e.name=e.name.replace(/^\\/,"")),"useitem"===t.kind&&(e.name=e.name.replace(/^\\/,"")),"method"===t.kind&&"identifier"===t.name.kind&&(e.name.name=Je.normalizeMagicMethodName(e.name.name)),"classreference"===t.kind&&"null"===t.name.toLowerCase()&&delete e.name},rs={trailingCommaPHP:{since:"0.0.0",category:"PHP",type:"choice",default:"none",description:"Print trailing commas wherever possible when multi-line.",choices:[{value:"none",description:"No trailing commas."},{value:"php5",description:"Trailing commas where valid in PHP 5 (arrays and lists)."},{value:"php7.2",description:"Trailing commas where valid in PHP 7.2 (arrays, lists and uses)."},{value:"all",description:"Trailing commas wherever possible."}]},braceStyle:{since:"0.10.0",category:"PHP",type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},os=function(t,e){var i=!0,n=!1,s=void 0;try{for(var r,o=Reflect.ownKeys(e)[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var h=r.value;Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(e,h))}}catch(t){n=!0,s=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}return t},hs=os,as=os;hs.default=as;var ls=function(t){return t instanceof Promise||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch},cs=ls,us=ls;cs.default=us;var _s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ps(t){return t&&t.default||t}var fs,ds,Ts=function(){var t={};return t.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),t},ks=(function(t,e){var i=_s&&_s.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function h(t){try{a(n.throw(t))}catch(t){r(t)}}function a(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,h)}a((n=n.apply(t,e||[])).next())})},n=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(Ts);function r(t){var e,n,r,o=this,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge",a=function(){return i(o,void 0,void 0,regeneratorRuntime.mark(function o(){var a,l,c,u,_,p,f,d=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===e){o.next=2;break}return o.abrupt("return");case 2:a=function(o){return i(d,void 0,void 0,regeneratorRuntime.mark(function i(){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r=s.default(),!((a=o[1][h]-Date.now())<=0)){i.next=6;break}return t.delete(o[0]),r.resolve(),i.abrupt("return");case 6:return e=o[0],"function"==typeof(n=setTimeout(function(){t.delete(o[0]),r&&r.resolve()},a)).unref&&n.unref(),i.abrupt("return",r.promise);case 10:case"end":return i.stop()}},i)}))},o.prev=3,l=!0,c=!1,u=void 0,o.prev=7,_=t[Symbol.iterator]();case 9:if(l=(p=_.next()).done){o.next=16;break}return f=p.value,o.next=13,a(f);case 13:l=!0,o.next=9;break;case 16:o.next=22;break;case 18:o.prev=18,o.t0=o.catch(7),c=!0,u=o.t0;case 22:o.prev=22,o.prev=23,l||null==_.return||_.return();case 25:if(o.prev=25,!c){o.next=28;break}throw u;case 28:return o.finish(25);case 29:return o.finish(22);case 30:o.next=34;break;case 32:o.prev=32,o.t1=o.catch(3);case 34:e=void 0;case 35:case"end":return o.stop()}},o,null,[[3,32],[7,18,22,30],[23,,25,29]])}))},l=t.set.bind(t);return t.set=function(i,s){t.has(i)&&t.delete(i);var o=l(i,s);return e&&e===i&&(e=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==r&&(r.reject(void 0),r=void 0)),a(),o},a(),t}e.default=r,t.exports=r,t.exports.default=r}(fs={exports:{}},fs.exports),fs.exports);(ds=ks)&&ds.__esModule&&Object.prototype.hasOwnProperty.call(ds,"default")&&ds.default;var Es=new WeakMap,xs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return"__defaultKey";if(1===e.length){var s=e[0];if(null==s||"function"!=typeof s&&"object"!==i(s))return s}return JSON.stringify(e)},ms=function(t,e){"number"==typeof(e=Object.assign({cacheKey:xs,cache:new Map,cachePromiseRejection:!1},e)).maxAge&&ks(e.cache);var i=e.cache;e.maxAge=e.maxAge||0;var n=function(){for(var n,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];var h=(n=e).cacheKey.apply(n,r);if(i.has(h))return i.get(h).data;var a=t.call.apply(t,[this].concat(r));return function(t,n){i.set(t,{data:n,maxAge:Date.now()+e.maxAge})}(h,a),cs(a)&&!1===e.cachePromiseRejection&&a.catch(function(){return i.delete(h)}),a};try{hs(n,t)}catch(t){}return Es.set(n,e.cache),n},ys=ms,As=ms;ys.default=As,ys.clear=function(t){var e=Es.get(t);e&&"function"==typeof e.clear&&e.clear()};var vs=/@prettier|@format/,gs=ys(function(t){return De(t).comments.filter(function(t){return"commentblock"===t.kind})});var Ns=function(t){if(!vs.test(t))return!1;var e=n(gs(t),1)[0];if(e){var i=e.value;return vs.test(i)}return!1},Cs=function(t){var e=n(gs(t),1)[0];if(e){var i=e.loc,s=i.start.offset,r=i.end.offset,o=t.substring(0,s),h=t.substring(r);return"".concat(o).concat(function(t,e){var i=t.split(/\r?\n/g);if(1===i.length){var s=n(/\/*\*\*(.*)\*\//.exec(i[0]),2)[1];i=["/**"," * ".concat(s.trim())," */"]}var r=i.findIndex(function(t){return/@\S/.test(t)})||1;return i.splice(r,0," * @format"),i.join(function(t){var e=t.indexOf("\n");return e>=0&&"\r"===t.charAt(e-1)?"\r\n":"\n"}(e))}(e.value,t)).concat(h)}if(!t.startsWith("<?php"))return t;var a="<?php".length,l=t.substring(0,a),c=t.substring(a);return"".concat(l,"\n/** \n * @format \n */\n").concat(c)},Ls=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],Ss=[".php",".php_cs",".php_cs.dist","Phakefile"],Os=["php"],Is=["inc"],bs={name:"PHP",type:"programming",tmScope:"text.html.php",aceMode:"php",codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",color:"#4F5D95",extensions:Ls,filenames:Ss,interpreters:Os,aliases:Is,languageId:272},Rs=Object.freeze({name:"PHP",type:"programming",tmScope:"text.html.php",aceMode:"php",codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",color:"#4F5D95",extensions:Ls,filenames:Ss,interpreters:Os,aliases:Is,languageId:272,default:bs}),ws=[".phtml"],Ds={name:"HTML+PHP",type:"markup",tmScope:"text.html.php",group:"HTML",extensions:ws,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",languageId:151},Ps=Object.freeze({name:"HTML+PHP",type:"markup",tmScope:"text.html.php",group:"HTML",extensions:ws,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",languageId:151,default:Ds}),Us=ps(Rs),Bs=ps(Ps),Ms=e.doc.builders,Fs=Ms.join,Hs=Ms.hardline,Gs=Ns,Vs=Cs;function Ws(t,e){var i=e.extend,n=e.override,s={};for(var r in t){s["languageId"===r?"linguistLanguageId":r]=t[r]}if(i)for(var o in i)s[o]=(s[o]||[]).concat(i[o]);for(var h in n)s[h]=n[h];return s}var Qs=[Ws(Us,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),Ws(Bs,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Ys=function(t){return function(e){return e.loc&&e.loc[t]&&e.loc[t].offset}},$s={php:{parse:De,astFormat:"php",locStart:Ys("start"),locEnd:Ys("end"),hasPragma:Gs}},js={languages:Qs,printers:{php:{print:ns,insertPragma:Vs,massageAstNode:ss,getCommentChildNodes:Ri.getCommentChildNodes,canAttachComment:Ri.canAttachComment,isBlockComment:Ri.isBlockComment,handleComments:{ownLine:Ri.handleOwnLineComment,endOfLine:Ri.handleEndOfLineComment,remaining:Ri.handleRemainingComment},printComment:function(t){var e=t.getValue();switch(e.kind){case"commentblock":if(!e.value.includes("\n"))return e.value;var i=e.value.split(/\r?\n/g);return i.slice(1,i.length-1).every(function(t){return"*"===t.trim()[0]})?Fs(Hs,i.map(function(t,e){return(e>0?" ":"")+(e<i.length-1?t.trim():t.trimLeft())})):e.value;case"commentline":return e.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(e)))}},hasPrettierIgnore:function(t){var e=t.getNode();return e&&e.comments&&e.comments.length>0&&e.comments.some(function(t){return t.value.includes("prettier-ignore")})}}},parsers:$s,options:rs,defaultOptions:{tabWidth:4}},zs=js.languages,Ks=js.printers,Xs=js.parsers,Js=js.options,qs=js.defaultOptions;t.default=js,t.defaultOptions=qs,t.languages=zs,t.options=Js,t.parsers=Xs,t.printers=Ks,Object.defineProperty(t,"__esModule",{value:!0})});
